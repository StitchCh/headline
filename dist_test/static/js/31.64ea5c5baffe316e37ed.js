webpackJsonp([31],{"+y0Z":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.gallery-editor {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 10px;\n}\n.gallery-editor .title {\n  font-size: 30px;\n  font-weight: bold;\n  border: none;\n  width: 100%;\n  background: transparent;\n  padding: 20px 15px;\n  color: #555;\n}\n.gallery-editor .title::-webkit-input-placeholder {\n  color: #aaa;\n}\n.gallery-editor .title-colorpicker-btn {\n  width: 25px;\n  height: 25px;\n  border: 1px solid transparent;\n  margin: 3px;\n}\n.gallery-editor .title-colorpicker-btn:hover {\n  border: 1px solid #000000;\n}\n.gallery-editor .title-color-list {\n  width: 192px;\n  padding: 10px;\n}\n.gallery-editor .selector {\n  width: 100%;\n}\n.gallery-editor .selector .pic-cover {\n  width: 640px;\n  height: 360px;\n  margin: 0 auto;\n}\n.gallery-editor .selector .pic-cover img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.gallery-editor .selector .input {\n  width: 640px;\n  margin: 0 auto;\n  padding: 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.gallery-editor .selector .input textarea {\n  width: 100%;\n  outline: none;\n  border: none;\n  font-size: 14px;\n  resize: none;\n}\n.gallery-editor .selector .pic-list {\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.gallery-editor .selector .pic-item {\n  width: 100px;\n  height: auto;\n  margin: 13px;\n  border: 2px solid transparent;\n  -webkit-transition: border-color 0.2s;\n  transition: border-color 0.2s;\n}\n.gallery-editor .selector .pic-item > .icon {\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  border-radius: 12px;\n  background: #fff;\n  -webkit-box-shadow: 0 0 5px;\n          box-shadow: 0 0 5px;\n  color: #d74947;\n  visibility: hidden;\n}\n.gallery-editor .selector .pic-item:hover {\n  border-color: #eee;\n}\n.gallery-editor .selector .pic-item:hover > .icon {\n  visibility: visible;\n}\n.gallery-editor .selector .pic-item.active {\n  border-color: #5cb6ff;\n}\n.gallery-editor .selector .pic-item.add-btn {\n  border: 2px dashed #5cb6ff;\n  color: #5cb6ff;\n}\n.gallery-editor .selector .pic-item img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.gallery-editor .layer-ctn {\n  max-width: 1000px;\n}\n.gallery-editor .layer-ctn .af-left {\n  width: 280px;\n  background: #fff;\n  border-right: 1px solid #e1e1e1;\n}\n.gallery-editor .layer-ctn .nav-item {\n  height: 40px;\n  border-bottom: 1px solid #eee;\n  line-height: 1em;\n  padding: 0 5px 0 15px;\n}\n.gallery-editor .layer-ctn .nav-item.nav-item-folder {\n  padding-left: 30px;\n}\n.gallery-editor .layer-ctn .nav-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.gallery-editor .layer-ctn .nav-item.on {\n  background: #318fff;\n  border-color: #fff;\n  color: #fff;\n}\n.gallery-editor .layer-ctn .nav-item.on .icon-btn {\n  color: #fff;\n}\n.gallery-editor .layer-ctn .nav-item input {\n  border: none;\n  height: 36px;\n  background: transparent;\n}\n.gallery-editor .layer-ctn .nav-item input::-webkit-input-placeholder {\n  color: #aaa;\n}\n.gallery-editor .layer-ctn .nav-item .nav-item-icon {\n  margin-right: 15px;\n}\n.gallery-editor .layer-ctn .search-bar input {\n  width: 150px;\n  height: 100%;\n  border: none;\n  margin-left: 10px;\n}\n.gallery-editor .layer-ctn .media-group {\n  padding: 13px 30px;\n}\n.gallery-editor .layer-ctn .media-group ul {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.gallery-editor .layer-ctn .media-group li {\n  margin: 0 6px 6px 0;\n}\n.gallery-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.gallery-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.gallery-editor .layer-ctn .bubble-item {\n  padding: 4px 15px;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.gallery-editor .layer-ctn .bubble-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.gallery-editor .layer-ctn .datepicker:before {\n  content: none;\n}\n.gallery-editor .layer-ctn .datepicker input {\n  background: transparent;\n  border: none;\n  padding: 0 10px;\n}\n.gallery-editor .layer-ctn .datepicker-range {\n  min-width: 200px;\n}\n.gallery-editor .layer-ctn .datepicker-range .datepicker-popup {\n  right: 0;\n  width: 420px;\n}\n",""])},ZOUv:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.mb_4 {\n  margin-bottom: 40px;\n}\n.list_item {\n  border-bottom: 1px solid #ddd;\n  padding-bottom: 10px;\n  margin-bottom: 20px;\n}\n.pic-item img {\n  width: 140px;\n}\n.pic-item {\n  width: 140px;\n  position: relative;\n}\n.dle_btn {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  display: block;\n  background: #fff;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  line-height: 16px;\n  text-align: center;\n  -webkit-transform: rotate(45deg);\n          transform: rotate(45deg);\n  z-index: 10;\n  font-size: 20px;\n  cursor: pointer;\n}\n.list {\n  width: 140px;\n  border: 0 !important;\n}\n.app-common {\n  background: #fafafa;\n}\n.app-common .content {\n  background: #eee;\n}\n.app-common .setting-card {\n  max-width: 800px;\n  margin: 20px auto;\n  border-radius: 10px;\n  padding: 20px;\n  background: #fff;\n}\n.app-common .setting-card li {\n  padding: 12px 20px 12px 0;\n  border-bottom: 1px solid #e1e1e1;\n}\n.app-common .setting-card li:last-child {\n  border-bottom: 0;\n}\n",""])},fcG3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mvHQ"),a=n.n(i),l=n("jelr"),o=n("DAYN"),r=n.n(o),p={name:"settings-common",components:{MediaPhotos:l.default,draggable:r.a},data:function(){return{loading:!1,ui:{titleColorBoxShow:!1,photoSelectorShow:!1},list:[],showList:[],type:0,selected:[],selected1:[],selected2:[],appThumd:0,appGuide:0,appGuang:0,urlif:/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/}},methods:{change:function(t,e){var n=this;console.log(t);var i=[];t.appValue.forEach(function(t){i.push({pic:t.pic,url:t.url,jumpTime:t.jumpTime,skip:0==t.skip?1:0})}),this.$http.post("/cri-cms-platform/appGuide/update.monitor",{appValue:a()(i),status:1==this.showList[e]?0:1,demo:t.demo,id:t.id}).then(function(t){console.log(t),n.$toast("设置成功"),n.getList()})},openM:function(t){if(this.type=t,this.list[t].appValue>=4)return this.$toast("引导页最多上传4张"),!1;this.ui.photoSelectorShow=!0},selectPhoto:function(){var t=this.$refs.mediaPhotos.imgOrigin;"ad_page"==this.list[this.type].appKey?this.list[this.type].appValue=this.$refs.mediaPhotos.selected.map(function(e){return e.description="",e.pic=t+e.filePath+e.fileName,e.url="",e}):this.list[this.type].appValue=this.list[this.type].appValue.concat(this.$refs.mediaPhotos.selected.map(function(e){return e.description="",e.pic=t+e.filePath+e.fileName,e.url="",e})),console.log(this.list),this.ui.photoSelectorShow=!1},getList:function(){var t=this;this.$http.post("/cri-cms-platform/appGuide/page.monitor").then(function(e){t.list=e,t.list.forEach(function(e){t.showList.push(1==e.status?0:1),e.appValue=JSON.parse(e.appValue),e.appValue[0].skip=e.appValue[0].skip?0==e.appValue[0].skip?1:0:1})})}},created:function(){this.getList()}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-common flex-col c-6"},[t._m(0),t._v(" "),n("div",{staticClass:"flex-item scroll-y content relative"},[n("div",{staticClass:"setting-card"},t._l(t.list,function(e,i){return n("div",[n("div",{staticClass:"flex list_item"},[n("span",[t._v(t._s(e.demo))]),t._v(" "),n("div",{staticClass:"flex-item"}),t._v(" "),n("switcher",{attrs:{mode:"Number"},model:{value:t.showList[i],callback:function(e){t.$set(t.showList,i,e)},expression:"showList[index]"}}),t._v(" "),n("btn",{staticStyle:{"margin-left":"10px"},on:{click:function(n){t.change(e,i)}}},[t._v("确定")])],1),t._v(" "),"cover_page"==e.appKey&&1==t.showList[i]?n("ul",{staticClass:"flex-v-center mb_4"},[n("li",{staticClass:"list",staticStyle:{margin:"0 auto"}},[n("div",{staticClass:"pic-item flex-center add-btn a",on:{click:function(e){t.ui.photoSelectorShow=!0,t.type=i}}},[0==e.appValue.length?n("p",[n("i",{staticClass:"icon"},[t._v("add_photo_alternate")]),t._v("添加图片")]):t._e(),t._v(" "),e.appValue.length>0?n("img",{attrs:{src:e.appValue[0].pic,alt:""}}):t._e()])])]):t._e(),t._v(" "),"guide_page"==e.appKey&&1==t.showList[i]?n("div",{staticClass:"flex-v-center"},[n("draggable",{staticClass:"flex-v-center mb_4",staticStyle:{width:"calc(100% - 140px)"},attrs:{element:"ul",options:{ghostClass:"movelist"}},model:{value:e.appValue,callback:function(n){t.$set(e,"appValue",n)},expression:"item.appValue"}},t._l(e.appValue,function(i,a){return n("li",{staticClass:"list"},[n("div",{staticClass:"pic-item flex-center add-btn a"},[n("span",{staticClass:"dle_btn",on:{click:function(t){e.appValue.splice(a,1)}}},[t._v("+")]),t._v(" "),n("img",{attrs:{src:i.pic,alt:""}})])])})),t._v(" "),e.appValue.length<4?n("div",{staticClass:"list"},[n("div",{staticClass:"pic-item flex-center add-btn a",on:{click:function(e){t.openM(i)}}},[t._m(1,!0)])]):t._e()],1):t._e(),t._v(" "),"ad_page"==e.appKey&&1==t.showList[i]?n("div",[n("ul",{staticClass:"flex-v-center"},[n("li",{staticClass:"list",staticStyle:{margin:"0 auto"}},[n("div",{staticClass:"pic-item flex-center add-btn a",on:{click:function(e){t.ui.photoSelectorShow=!0,t.type=i}}},[0==e.appValue.length?n("p",[n("i",{staticClass:"icon"},[t._v("add_photo_alternate")]),t._v("添加图片")]):t._e(),t._v(" "),e.appValue.length>0?n("img",{attrs:{src:e.appValue[0].pic,alt:""}}):t._e()])])]),t._v(" "),e.appValue[0]?n("div",{staticStyle:{overflow:"hidden"}},[n("span",{staticStyle:{display:"inline-block","line-height":"34px"}},[t._v("链接")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.appValue[0].url,expression:"item.appValue[0].url"}],staticStyle:{height:"30px",width:"calc(100% - 80px)",float:"right",padding:"0 10px"},attrs:{type:"text",placeholder:"请输入链接地址"},domProps:{value:e.appValue[0].url},on:{input:function(n){n.target.composing||t.$set(e.appValue[0],"url",n.target.value)}}})]):t._e(),t._v(" "),e.appValue[0]?n("div",{staticStyle:{overflow:"hidden","padding-top":"10px"}},[n("span",{staticStyle:{display:"inline-block","line-height":"34px"}},[t._v("广告跳转时间")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.appValue[0].jumpTime,expression:"item.appValue[0].jumpTime"}],staticStyle:{height:"30px",width:"calc(100% - 150px)",float:"right",padding:"0 10px"},attrs:{type:"number",placeholder:"请输入时间(秒)"},domProps:{value:e.appValue[0].jumpTime},on:{input:function(n){n.target.composing||t.$set(e.appValue[0],"jumpTime",n.target.value)}}})]):t._e(),t._v(" "),e.appValue[0]?n("div",{staticStyle:{overflow:"hidden","padding-top":"10px",display:"flex","justify-content":"space-between"}},[n("span",{staticStyle:{display:"inline-block","line-height":"34px"}},[t._v("广告是否可以跳过")]),t._v(" "),n("switcher",{attrs:{mode:"Number"},model:{value:e.appValue[0].skip,callback:function(n){t.$set(e.appValue[0],"skip",n)},expression:"item.appValue[0].skip"}})],1):t._e()]):t._e()])}))]),t._v(" "),n("div",{staticClass:"gallery-editor"},[t.ui.photoSelectorShow?n("layer",{staticClass:"tc_box",attrs:{title:"选择图片",width:"800px"}},[n("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[n("media-photos",{ref:"mediaPhotos",attrs:{"select-mode":""}})],1),t._v(" "),n("div",{staticClass:"layer-btns"},[n("btn",{attrs:{flat:""},on:{click:function(e){t.ui.photoSelectorShow=!1}}},[t._v("取消")]),t._v(" "),n("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.selectPhoto}},[t._v("选择")])],1)]):t._e()],1)])};s._withStripped=!0;var c={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"af-topbar"},[e("span",{staticClass:"f-18"},[this._v("广告设置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("i",{staticClass:"icon"},[this._v("add_photo_alternate")]),this._v("添加图片")])}]},d=c;var u=!1;var h=n("VU/8")(p,d,!1,function(t){u||(n("ulIu"),n("jOVG"))},null,null);h.options.__file="src/apps/guide/common/index.vue";e.default=h.exports},jOVG:function(t,e,n){var i=n("+y0Z");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("3e8ab304",i,!1,{})},ulIu:function(t,e,n){var i=n("ZOUv");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("0a00d57a",i,!1,{})}});