webpackJsonp([18],{C9AC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("woOf"),o=n.n(i),a=n("mvHQ"),r=n.n(a),l=n("PJh5"),s=n.n(l),c=(n("g3Gj"),n("5LIk"),n("iqGf")),d=n("4r9f"),p=n("jelr"),m=n("DAYN"),u=n.n(m),h=n("O4Lo"),f=n.n(h),v={name:"video-editor",components:{MediaPhotos:p.default,videoPlayer:c.videoPlayer,MediaVideos:d.default,draggable:u.a},data:function(){return{ui:{titleColorBoxShow:!1,photoSelectorShow:!1},title:"",titleColor:"#000000",selected:[],activeIndex:0,allDescription:""}},methods:{allDescriptionChange:function(){var t=this;this.selected.forEach(function(e,n){if(""==e.description){var i=e;i.description=t.allDescription,t.selected.splice(n,1,i)}})},changeTitleColor:function(t){this.titleColor=t,this.ui.titleColorBoxShow=!1},selectPhoto:function(){var t=this,e=this.$refs.mediaPhotos.imgOrigin;this.selected=this.selected.concat(this.$refs.mediaPhotos.selected.map(function(n){return n.description=t.allDescription,n.url=e+n.filePath+n.fileName,n})),this.ui.photoSelectorShow=!1},deleteItem:function(t){t===this.selected.length-1&&this.activeIndex===t&&(this.activeIndex=t-1),this.selected.splice(t,1)}},watch:{allDescription:f()(function(){this.$emit("getKeyGenerate")},1e3)}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gallery-editor"},[n("div",{staticClass:"relative"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title title_title",style:{color:t.titleColor},attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),n("div",{staticStyle:{position:"absolute",right:"20px",top:"28px"}},[n("button",{staticClass:"title-colorpicker-btn",style:{background:t.titleColor},on:{click:function(e){t.ui.titleColorBoxShow=!t.ui.titleColorBoxShow}}}),t._v(" "),t.ui.titleColorBoxShow?n("bubble",{on:{close:function(e){t.ui.titleColorBoxShow=!1}}},[n("div",{staticClass:"title-color-list"},[n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#000000"},on:{click:function(e){t.changeTitleColor("#000000")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#F44336"},on:{click:function(e){t.changeTitleColor("#F44336")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#FF9800"},on:{click:function(e){t.changeTitleColor("#FF9800")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#FFEB3B"},on:{click:function(e){t.changeTitleColor("#FFEB3B")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#4CAF50"},on:{click:function(e){t.changeTitleColor("#4CAF50")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#00BCD4"},on:{click:function(e){t.changeTitleColor("#00BCD4")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#2196F3"},on:{click:function(e){t.changeTitleColor("#2196F3")}}}),t._v(" "),n("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#9C27B0"},on:{click:function(e){t.changeTitleColor("#9C27B0")}}})])]):t._e()],1)]),t._v(" "),n("div",{staticClass:"selector"},[n("div",{staticClass:"flex-center pic-cover relative"},[t.selected.length?n("img",{attrs:{src:t.selected[t.activeIndex].url,alt:""}}):n("div",{staticClass:"flex-center bg-e abs"},[n("i",{staticClass:"icon",staticStyle:{"font-size":"60px"}},[t._v("add_photo_alternate")])])]),t._v(" "),n("div",{staticClass:"input"},[t.selected.length?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selected[t.activeIndex].description,expression:"selected[activeIndex].description"}],attrs:{rows:"4",placeholder:"在此处输入图片说明"},domProps:{value:t.selected[t.activeIndex].description},on:{input:function(e){e.target.composing||t.$set(t.selected[t.activeIndex],"description",e.target.value)}}}):t._e()]),t._v(" "),n("div",{staticClass:"flex pic-list"},[n("draggable",{staticStyle:{width:"100%"},attrs:{element:"div",options:{ghostClass:"movelist"}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.selected,function(e,i){return n("div",{key:e.id,staticClass:"pic-item flex-center a relative",class:{active:t.activeIndex===i},staticStyle:{display:"inline-block"},on:{click:function(e){t.activeIndex=i}}},[n("i",{staticClass:"icon",on:{click:function(e){e.stopPropagation(),t.deleteItem(i)}}},[t._v("cancel")]),t._v(" "),n("img",{attrs:{src:e.url,alt:""}})])})),t._v(" "),n("div",{staticClass:"pic-item flex-center add-btn a",on:{click:function(e){t.ui.photoSelectorShow=!0}}},[n("i",{staticClass:"icon"},[t._v("add_photo_alternate")]),t._v("添加图片\n      ")])],1),t._v(" "),n("div",[n("p",[t._v("批量添加说明")]),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.allDescription,expression:"allDescription"}],staticClass:"tysm_box",attrs:{rows:"4",placeholder:"在此处输入批量图片说明"},domProps:{value:t.allDescription},on:{change:t.allDescriptionChange,input:function(e){e.target.composing||(t.allDescription=e.target.value)}}})])])]),t._v(" "),t.ui.photoSelectorShow?n("layer",{staticClass:"tc_box",attrs:{title:"选择图片",width:"800px"}},[n("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[n("media-photos",{ref:"mediaPhotos",attrs:{"select-mode":""}})],1),t._v(" "),n("div",{staticClass:"layer-btns"},[n("btn",{attrs:{flat:""},on:{click:function(e){t.ui.photoSelectorShow=!1}}},[t._v("取消")]),t._v(" "),n("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.selectPhoto}},[t._v("选择")])],1)]):t._e()],1)};g._withStripped=!0;var b={render:g,staticRenderFns:[]},x=b;var y=!1;var w=n("VU/8")(v,x,!1,function(t){y||n("J4Ao")},null,null);w.options.__file="src/apps/gallery/editGallery/editor.vue";var _=w.exports,C=n("WUXh"),k=n("lVAl"),S=n("QN1W"),$=n("jk0Z"),I=n("XJqE"),P={name:"app-gallery-edit-option",components:{VueDatepickerLocal:C.a,AddComment:k.a,AddRelates:S.a,AddAttachment:$.a,AddThumb:I.a},props:["res"],data:function(){return{scaleshow:!1,getend:!1,ui:{channelShow:!1,channels:[]},form:{app:"GALLERY",channelIds:"",relateIds:"",isOpenComment:1,isOriginal:0,originalFrom:"",originalUrl:"",isRecommnd:0,abstarcts:"",keywords:"",author:this.$store.state.account.authorList[0],isWatermarked:0,virtualPv:"",virtualComment:"",virtualShare:"",virtualDigg:"",hasThumb:0,thumbType:2,thumb:"",isListShowPic:1},thumb:{thumb1:null,thumb2:null,thumb3:null}}},computed:{channelIds:{get:function(){return""===this.form.channelIds?[]:this.form.channelIds.split(",")},set:function(t){this.form.channelIds=t.join(",")}},channelNames:function(){var t=this;return this.channelIds.length&&this.ui.channels.length?this.channelIds.map(function(e){return t.ui.channels.find(function(t){return t.id===e}).channelName}).join("，"):"选择栏目"}},methods:{getChannels:function(){var t=this;this.$http.post("/cri-cms-platform/gallery/getChannels.monitor").then(function(e){t.ui.channels=e||[],t.getend=!0}).catch(console.log)}},created:function(){if(this.getChannels(),this.res){var t=this.form,e=this.res;for(var n in this.form)"virtualComment"!==n?("thumb"===n&&(this.thumb.thumb1=e.content.thumb[0],this.thumb.thumb2=e.content.thumb[1],this.thumb.thumb3=e.content.thumb[2]),this.form[n]="isDelete"!==n&&"isOpenComment"!==n&&"isOriginal"!==n&&"isRecommnd"!==n&&"isWatermarked"!==n&&"terminalApp"!==n&&"terminalPc"!==n&&"terminalWeb"!==n&&"hasThumb"!==n&&"isListShowPic"!==n?e.content[n]:Number(e.content[n])):""===e.content[n]?t[n]="":t[n]=r()(e.content[n]);this.form.isListShowPic=1==this.form.isListShowPic?0:1,this.form.createDate=e.content.createDate,this.form.channelIds=e.channelIds||"",this.form.relateIds=e.relateGallery.map(function(t){return t.id}).join(",")}else this.form.virtualPv=500+parseInt(300*Math.random()),this.form.virtualShare=5+parseInt(5*Math.random()),this.form.virtualDigg=5+parseInt(5*Math.random())},watch:{"thumb.thumb1":function(t){2===this.form.thumbType?t||this.thumb.thumb2||this.thumb.thumb3?(this.form.hasThumb=1,this.form.thumb=[t,this.thumb.thumb2,this.thumb.thumb3].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb=""):t?(this.form.hasThumb=1,this.form.thumb=t.id):(this.form.hasThumb=0,this.form.thumb="")},"thumb.thumb2":function(t){this.thumb.thumb1||t||this.thumb.thumb3?(this.form.hasThumb=1,this.form.thumb=[this.thumb.thumb1,t,this.thumb.thumb3].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb="")},"thumb.thumb3":function(t){this.thumb.thumb1||this.thumb.thumb2||t?(this.form.hasThumb=1,this.form.thumb=[this.thumb.thumb1,this.thumb.thumb2,t].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb="")}}},D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gallery-options c-4 scroll-y"},[n("div",{staticStyle:{width:"280px",margin:"0 20px"}},[t.getend?n("div",{staticClass:"option-item flex-v-center relative a",on:{click:function(e){t.ui.channelShow=!t.ui.channelShow}}},[n("span",{staticClass:"flex-item"},[t._v(t._s(t.channelNames))]),t._v(" "),n("i",{staticClass:"icon f-20 c-a"},[t._v("keyboard_arrow_down")]),t._v(" "),t.ui.channelShow?n("bubble",{attrs:{pos:"bottom",align:"center"},on:{close:function(e){t.ui.channelShow=!1}}},[n("div",{staticStyle:{padding:"10px 0",width:"280px"}},[n("tree",{attrs:{data:t.ui.channels,"pid-txt":"channelPartentId",nameTxt:"channelName","show-checkbox":"","checked-list":t.channelIds},on:{"update:checkedList":function(e){t.channelIds=e}}})],1)]):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"option-item flex-v-center"},[n("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"推荐",expression:"'推荐'"}],class:{active:t.form.isRecommnd},attrs:{small:""},on:{click:function(e){t.form.isRecommnd=~~!t.form.isRecommnd}}},[t._v("thumb_up")]),t._v(" "),n("span",{staticClass:"flex-item"})],1),t._v(" "),n("div",{staticStyle:{margin:"10px 0"}},[n("add-thumb",{staticStyle:{"margin-bottom":"8px"},attrs:{scale:"",height:"160px"},model:{value:t.thumb.thumb1,callback:function(e){t.$set(t.thumb,"thumb1",e)},expression:"thumb.thumb1"}}),t._v(" "),2==t.form.thumbType?n("div",{staticClass:"flex"},[n("add-thumb",{staticClass:"flex-item",staticStyle:{"margin-right":"8px"},attrs:{scale:"",height:"80px"},model:{value:t.thumb.thumb2,callback:function(e){t.$set(t.thumb,"thumb2",e)},expression:"thumb.thumb2"}}),t._v(" "),n("add-thumb",{staticClass:"flex-item",attrs:{scale:"",height:"80px"},model:{value:t.thumb.thumb3,callback:function(e){t.$set(t.thumb,"thumb3",e)},expression:"thumb.thumb3"}})],1):t._e(),t._v(" "),n("div",{staticClass:"flex-v-center",staticStyle:{padding:"10px 5px 0 5px"}})],1),t._v(" "),n("div",{staticClass:"option-item"},[n("div",{staticClass:"flex-v-center"},[n("span",{staticClass:"flex-item"},[t._v("列表中是否显示图片")]),t._v(" "),n("switcher",{attrs:{mode:"Number"},model:{value:t.form.isListShowPic,callback:function(e){t.$set(t.form,"isListShowPic",e)},expression:"form.isListShowPic"}})],1)]),t._v(" "),n("div",{staticClass:"option-item relative"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.abstarcts,expression:"form.abstarcts"}],attrs:{placeholder:"摘要，限制 128 字。",rows:"8"},domProps:{value:t.form.abstarcts},on:{input:function(e){e.target.composing||t.$set(t.form,"abstarcts",e.target.value)}}}),t._v(" "),n("span",{staticStyle:{position:"absolute",bottom:"3px",right:"0"},style:{color:t.form.abstarcts.length>128?"#F44336":"#999"}},[t._v(t._s(t.form.abstarcts.length)+" / 128")])]),t._v(" "),n("div",{staticClass:"option-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.keywords,expression:"form.keywords"}],attrs:{type:"text",placeholder:"关键词，逗号分隔。"},domProps:{value:t.form.keywords},on:{input:function(e){e.target.composing||t.$set(t.form,"keywords",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"option-item flex-v-center"},[n("span",{staticClass:"flex-item"},[t._v("©原创声明")]),t._v(" "),n("switcher",{attrs:{mode:"Number"},model:{value:t.form.isOriginal,callback:function(e){t.$set(t.form,"isOriginal",e)},expression:"form.isOriginal"}})],1),t._v(" "),t.form.isOriginal?t._e():n("div",{staticClass:"option-item flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.originalFrom,expression:"form.originalFrom"}],staticClass:"flex-item",attrs:{type:"text",placeholder:"来源名称"},domProps:{value:t.form.originalFrom},on:{input:function(e){e.target.composing||t.$set(t.form,"originalFrom",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.originalUrl,expression:"form.originalUrl"}],staticClass:"flex-item",attrs:{type:"text",placeholder:"来源URL"},domProps:{value:t.form.originalUrl},on:{input:function(e){e.target.composing||t.$set(t.form,"originalUrl",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"option-item",staticStyle:{display:"flex"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.author,expression:"form.author"}],staticStyle:{width:"calc(100% - 70px)"},attrs:{type:"text",placeholder:"作者，逗号分隔"},domProps:{value:t.form.author},on:{input:function(e){e.target.composing||t.$set(t.form,"author",e.target.value)}}}),t._v(" "),n("div",{staticClass:"relative",staticStyle:{padding:"0 4px",width:"70px"}},[n("p",{staticStyle:{cursor:"pointer","text-align":"right",margin:"0"},on:{click:function(e){t.scaleshow=!0}}},[t._v("\n          选择预设\n        ")]),t._v(" "),t.scaleshow?n("bubble",{staticStyle:{left:"-80px"},on:{close:function(e){t.scaleshow=!1}}},[n("ul",{staticClass:"f-14 c-5",staticStyle:{padding:"4px 0",width:"150px","text-align":"center","line-height":"24px"}},t._l(t.$store.state.account.authorList,function(e,i){return n("li",{staticClass:"a flex-v-center listhover",on:{click:function(n){t.form.author=e,t.scaleshow=!1}}},[n("span",{staticClass:"flex-item"},[t._v(t._s(e))])])}))]):t._e()],1)]),t._v(" "),void 0!==t.form.createDate?n("div",{staticClass:"option-item flex-v-center"},[n("div",{staticClass:"flex-item"},[t._v("创建时间")]),t._v(" "),n("div",{staticClass:"relative flex-v-center a"},[t.form.createDate?t._e():n("span",{staticClass:"flex-v-center",staticStyle:{position:"absolute",right:"0"}},[n("span",[t._v("设置")]),t._v(" "),n("i",{staticClass:"icon f-18 c-a"},[t._v("keyboard_arrow_down")])]),t._v(" "),n("vue-datepicker-local",{attrs:{"show-buttons":"",clearable:!1,format:"YYYY-MM-DD HH:mm:ss"},model:{value:t.form.createDate,callback:function(e){t.$set(t.form,"createDate",e)},expression:"form.createDate"}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"option-item flex-v-center"},[n("span",[t._v("初始阅读量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualPv,expression:"form.virtualPv"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualPv},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualPv",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"option-item flex-v-center"},[n("span",[t._v("初始分享量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualShare,expression:"form.virtualShare"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualShare},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualShare",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"option-item flex-v-center"},[n("span",[t._v("初始点赞量")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualDigg,expression:"form.virtualDigg"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualDigg},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualDigg",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"option-item"},[n("div",{staticClass:"flex-v-center"},[n("span",{staticClass:"flex-item"},[t._v("开启评论")]),t._v(" "),n("switcher",{attrs:{mode:"Number"},model:{value:t.form.isOpenComment,callback:function(e){t.$set(t.form,"isOpenComment",e)},expression:"form.isOpenComment"}})],1),t._v(" "),t.form.isOpenComment?n("add-comment",{model:{value:t.form.virtualComment,callback:function(e){t.$set(t.form,"virtualComment",e)},expression:"form.virtualComment"}}):t._e()],1),t._v(" "),n("add-relates",{attrs:{channels:t.ui.channels,title:"相关图集",icon:"collections",url:"/cri-cms-platform/article/associate/gallery.monitor"},model:{value:t.form.relateIds,callback:function(e){t.$set(t.form,"relateIds",e)},expression:"form.relateIds"}})],1)])};D._withStripped=!0;var T={render:D,staticRenderFns:[]},F=T;var N=!1;var L=n("VU/8")(P,F,!1,function(t){N||n("MXBi")},null,null);L.options.__file="src/apps/gallery/editGallery/options.vue";var A={gallery:{getUrl:"/cri-cms-platform/gallery/get.monitor"},draft:{getUrl:"/cri-cms-platform/articleAutoSave/getAuto.monitor"}},G={name:"app-gallery-edit",components:{GalleryEditor:_,GalleryOption:L.exports},props:["from","id"],data:function(){return{ui:{loading:!1,optionShow:!0,submited:!1},res:null,autoSaveId:"",autoSaveTimer:null}},methods:{beforeClose:function(){if(this.ui.submited)return clearInterval(this.autoSaveTimer),window.opener=null,void window.close();var t=this;this.$confirm({title:"您确定要离开吗？",text:"未保存的内容将无法恢复。",btns:["取消","离开"],color:"red",yes:function(){clearInterval(t.autoSaveTimer),window.opener=null,t.$router.go(-1)},no:function(){}})},getKeyGenerate:function(){var t=this;if(!this.id){var e=this.$refs.editor.allDescription;""!=e&&(1002==sessionStorage.siteId?this.$refs.option.form.abstarcts=e.split(".")[0].substring(0,128):this.$http.post("/cri-cms-platform/article/getKeyGenerate.monitor",{doc:e}).then(function(e){t.$refs.option.form.abstarcts=e.gerenate,t.$refs.option.form.keywords=e.key.join(",")}))}},getGallery:function(){var t=this;this.from&&this.id&&(this.ui.loading=!0,"draft"===this.from&&(this.autoSaveId=this.id),this.$http.post(A[this.from].getUrl,{id:this.id,app:"GALLERY"}).then(function(e){t.res=e,t.ui.loading=!1,t.$nextTick(function(){var n=t.$refs.editor;n.title=e.content.title,n.titleColor=e.content.titleColor,n.selected=e.gallery.content})}).catch(console.log))},submit:function(){var t=this,e=this.id&&"gallery"===this.from?"/cri-cms-platform/gallery/update.monitor":"/cri-cms-platform/gallery/save.monitor",n=this.$refs.editor,i=n.title,a=n.titleColor,l=n.selected;if(i)if(l.length)if(this.$refs.option.form.channelIds){var c=r()(l.map(function(t){return{description:t.description,attachmentId:t.id}})),d=o()({title:i,titleColor:a,content:c},this.$refs.option.form);d.createDate&&(d.createDate=s()(d.createDate).format("YYYY-MM-DD HH:mm:ss")),this.id&&(d.id=this.id),d.isListShowPic=1==d.isListShowPic?0:1,d.thumb?this.$http.post(e,d).then(function(e){t.ui.submited=!0,window.opener.location.reload(),window.opener=null,window.close()}).catch(function(e){t.$toast(e||e.msg||"保存失败"),console.log(e)}):this.$toast("请选头图")}else this.$toast("请选择栏目");else this.$toast("请选择图片");else this.$toast("请输入标题")},autoSave:function(){var t=this,e=this.$refs.editor,n=e.title,i=e.titleColor,a=e.selected,l="";a.length&&(l=r()(a.map(function(t){return{description:t.description,attachmentId:t.id}})));var s=o()({title:n,titleColor:i,content:l},this.$refs.option.form);return this.autoSaveId&&(s.id=this.autoSaveId),this.$http.post("/cri-cms-platform/articleAutoSave/saveAuto.monitor",s).then(function(e){t.autoSaveId=e.autoSaveId,t.$toast("保存成功")}).catch(function(e){t.$toast(e.msg||e||"保存失败")})}},created:function(){var t=this;this.autoSaveTimer=setInterval(function(){t.autoSave()},6e4)},mounted:function(){this.getGallery()}},O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abs bg-f flex c-6 f-14 app-gallery-edit"},[t.ui.loading?n("div",{staticClass:"abs flex-center bg-f",staticStyle:{"z-index":"10"}},[n("loading",{attrs:{size:"50"}})],1):[n("div",{staticClass:"flex-item flex-col"},[n("div",{staticClass:"top-bar flex-v-center",staticStyle:{height:"55px",padding:"0 20px"}},[n("div",{staticClass:"a flex-v-center",on:{click:t.beforeClose}},[n("icon-btn",{staticStyle:{"margin-right":"10px"}},[t._v("arrow_back")]),t._v(" "),n("span",{staticClass:"f-18"},[t._v("返回")])],1),t._v(" "),n("div",{staticClass:"flex-item"}),t._v(" "),n("div",{staticClass:"flex-v-center"},[n("btn",{staticStyle:{"margin-right":"10px"},attrs:{big:"",flat:""},on:{click:t.autoSave}},[t._v("保存草稿")]),t._v(" "),n("btn",{staticStyle:{"margin-right":"20px"},attrs:{big:""},on:{click:t.submit}},[t._v("保存")]),t._v(" "),n("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"发布选项",expression:"'发布选项'",arg:"bottom"}],on:{click:function(e){t.ui.optionShow=!t.ui.optionShow}}},[t._v("menu")])],1)]),t._v(" "),n("div",{staticClass:"flex-item scroll-y"},[n("gallery-editor",{ref:"editor",on:{getKeyGenerate:t.getKeyGenerate}})],1)]),t._v(" "),n("gallery-option",{ref:"option",style:{width:t.ui.optionShow?"320px":"0px"},attrs:{res:t.res}})]],2)};O._withStripped=!0;var B={render:O,staticRenderFns:[]},j=B;var z=!1;var U=n("VU/8")(G,j,!1,function(t){z||n("idnU")},null,null);U.options.__file="src/apps/gallery/editGallery/index.vue";e.default=U.exports},G3WW:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.gallery-editor {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 10px;\n}\n.gallery-editor .title {\n  font-size: 30px;\n  font-weight: bold;\n  border: none;\n  width: 100%;\n  background: transparent;\n  padding: 20px 15px;\n  color: #555;\n}\n.gallery-editor .title::-webkit-input-placeholder {\n  color: #aaa;\n}\n.gallery-editor .tysm_box {\n  width: 100%;\n  outline: none;\n  resize: none;\n  padding: 10px 20px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n}\n.gallery-editor .title-colorpicker-btn {\n  width: 25px;\n  height: 25px;\n  border: 1px solid transparent;\n  margin: 3px;\n}\n.gallery-editor .title-colorpicker-btn:hover {\n  border: 1px solid #000000;\n}\n.gallery-editor .title-color-list {\n  width: 192px;\n  padding: 10px;\n}\n.gallery-editor .selector {\n  width: 100%;\n}\n.gallery-editor .selector .pic-cover {\n  width: 640px;\n  height: 360px;\n  margin: 0 auto;\n}\n.gallery-editor .selector .pic-cover img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.gallery-editor .selector .input {\n  width: 640px;\n  margin: 0 auto;\n  padding: 10px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.gallery-editor .selector .input textarea {\n  width: 100%;\n  outline: none;\n  border: none;\n  font-size: 14px;\n  resize: none;\n}\n.gallery-editor .selector .pic-list {\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.gallery-editor .selector .pic-item {\n  width: 120px;\n  height: 90px;\n  margin: 13px;\n  border: 2px solid transparent;\n  -webkit-transition: border-color 0.2s;\n  transition: border-color 0.2s;\n}\n.gallery-editor .selector .pic-item > .icon {\n  position: absolute;\n  top: -12px;\n  right: -12px;\n  border-radius: 12px;\n  background: #fff;\n  -webkit-box-shadow: 0 0 5px;\n          box-shadow: 0 0 5px;\n  color: #d74947;\n  visibility: hidden;\n}\n.gallery-editor .selector .pic-item:hover {\n  border-color: #eee;\n}\n.gallery-editor .selector .pic-item:hover > .icon {\n  visibility: visible;\n}\n.gallery-editor .selector .pic-item.active {\n  border-color: #5cb6ff;\n}\n.gallery-editor .selector .pic-item.add-btn {\n  border: 2px dashed #5cb6ff;\n  color: #5cb6ff;\n}\n.gallery-editor .selector .pic-item img {\n  max-width: 100%;\n  max-height: 100%;\n}\n.gallery-editor .layer-ctn {\n  max-width: 1000px;\n}\n.gallery-editor .layer-ctn .af-left {\n  width: 280px;\n  background: #fff;\n  border-right: 1px solid #e1e1e1;\n}\n.gallery-editor .layer-ctn .nav-item {\n  height: 40px;\n  border-bottom: 1px solid #eee;\n  line-height: 1em;\n  padding: 0 5px 0 15px;\n}\n.gallery-editor .layer-ctn .nav-item.nav-item-folder {\n  padding-left: 30px;\n}\n.gallery-editor .layer-ctn .nav-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.gallery-editor .layer-ctn .nav-item.on {\n  background: #318fff;\n  border-color: #fff;\n  color: #fff;\n}\n.gallery-editor .layer-ctn .nav-item.on .icon-btn {\n  color: #fff;\n}\n.gallery-editor .layer-ctn .nav-item input {\n  border: none;\n  height: 36px;\n  background: transparent;\n}\n.gallery-editor .layer-ctn .nav-item input::-webkit-input-placeholder {\n  color: #aaa;\n}\n.gallery-editor .layer-ctn .nav-item .nav-item-icon {\n  margin-right: 15px;\n}\n.gallery-editor .layer-ctn .search-bar input {\n  width: 150px;\n  height: 100%;\n  border: none;\n  margin-left: 10px;\n}\n.gallery-editor .layer-ctn .media-group {\n  padding: 13px 30px;\n}\n.gallery-editor .layer-ctn .media-group ul {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.gallery-editor .layer-ctn .media-group li {\n  margin: 0 6px 6px 0;\n}\n.gallery-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.gallery-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.gallery-editor .layer-ctn .bubble-item {\n  padding: 4px 15px;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.gallery-editor .layer-ctn .bubble-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.gallery-editor .layer-ctn .datepicker:before {\n  content: none;\n}\n.gallery-editor .layer-ctn .datepicker input {\n  background: transparent;\n  border: none;\n  padding: 0 10px;\n}\n.gallery-editor .layer-ctn .datepicker-range {\n  min-width: 200px;\n}\n.gallery-editor .layer-ctn .datepicker-range .datepicker-popup {\n  right: 0;\n  width: 420px;\n}\n",""])},J4Ao:function(t,e,n){var i=n("G3WW");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7bd20627",i,!1,{})},MXBi:function(t,e,n){var i=n("p/OB");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7d4cf21a",i,!1,{})},idnU:function(t,e,n){var i=n("tKo8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("2fef4d2c",i,!1,{})},"p/OB":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},tKo8:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.app-gallery-edit .gallery-options {\n  width: 320px;\n  padding: 20px 0;\n  background: #f8f8f8;\n  -webkit-transition: width 0.3s;\n  transition: width 0.3s;\n}\n.app-gallery-edit .gallery-options textarea,\n.app-gallery-edit .gallery-options input {\n  border: none;\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  color: #444;\n  resize: none;\n  background: transparent;\n}\n.app-gallery-edit .gallery-options textarea::-webkit-input-placeholder,\n.app-gallery-edit .gallery-options input::-webkit-input-placeholder {\n  color: #999;\n}\n.app-gallery-edit .option-item {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 12px 0;\n}\n.app-gallery-edit .add-photo-btn {\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 5px;\n  overflow: hidden;\n}\n.app-gallery-edit .add-other-icon {\n  margin-right: 10px;\n}\n.app-gallery-edit .active {\n  color: #018be6;\n}\n.app-gallery-edit .datepicker::before {\n  content: none;\n}\n.app-gallery-edit .add-gallery-setting-btn:hover {\n  color: #008eff;\n}\n.app-gallery-edit .add-gallery-setting {\n  padding: 0;\n}\n.app-gallery-edit .add-gallery-setting li {\n  padding-left: 20px;\n  font-size: 16px;\n}\n.app-gallery-edit .add-gallery-setting li div {\n  border-bottom: 1px solid #e1e1e1;\n  padding: 12px 0;\n}\n.app-gallery-edit .add-gallery-setting li:last-child div {\n  border-bottom: 0;\n}\n.app-gallery-edit .add-gallery-setting li input {\n  border: none;\n  outline: none;\n  font-size: 14px;\n  color: #444;\n  background: transparent;\n  height: 34px;\n  width: 60px;\n  text-align: right;\n  padding-right: 20px;\n}\n.app-gallery-edit .add-gallery-setting li input::-webkit-input-placeholder {\n  color: #999;\n}\n",""])}});