webpackJsonp([118],{"0UVK":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("2get"),o=e("2Dnl"),l={name:"app-article-list",components:{Account:s.a,AfCenter:o.a},props:["id"],data:function(){return{urlList:[],urlListShow:!1,ui:{channels:[],qrcodeShow:!1},list:[]}},methods:{getLinkList:function(t){var i=this;this.$http.post("/cri-cms-platform/live/published.monitor",{id:t}).then(function(t){i.urlList=t,i.urlListShow=!0})},getChannels:function(){var t=this;this.$http.post("/cri-cms-platform/live/getChannels.monitor").then(function(i){t.ui.channels=i||[]}).catch(function(i){t.$toast(i.msg)})},onItemClick:function(t,i){sessionStorage.setItem("viewScroll",85*i-100),this.$router.replace({path:"/live/list/"+t.id,query:this.$route.query})},deleteArticle:function(){var t=this;this.$confirm({title:"您确定要删除此文章吗？",text:"您可以从回收站中恢复。",btns:["取消","删除"],color:"red",yes:function(){t.$http.post("/cri-cms-platform/live/delete.monitor",{id:t.$route.params.id}).then(function(i){t.$refs.afCenter.getList(),t.$router.replace({path:"/live/list",query:t.$route.query})})}})}},created:function(){this.getChannels()}},n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"flex flex-item article-list"},[s("af-center",{ref:"afCenter",attrs:{status:t.$route.query.status,url:"/cri-cms-platform/live/list.monitor"},on:{add:function(i){t.openWindow("/liveAdd")},getListEnd:t.onItemClick},scopedSlots:t._u([{key:"default",fn:function(i){return s("div",{staticClass:"list-item a",class:{on:i.item.id==t.$route.params.id},on:{click:function(e){t.onItemClick(i.item,i.index)}}},[s("div",{staticClass:"list-title flex-v-center"},[~~i.item.isRecommnd?s("i",{staticClass:"icon f-16 blue"},[t._v("thumb_up")]):t._e(),t._v(" "),~~i.item.isOriginal?s("i",{staticClass:"icon f-16 green"},[t._v("copyright")]):t._e(),t._v(" "),s("span",{staticClass:"flex-item c-6 f-14 b"},[t._v(t._s(i.item.title))])]),t._v(" "),s("div",{staticClass:"list-info f-12 c-8 flex-v-center"},[s("span",[t._v(t._s(i.item.createDate))]),t._v(" "),s("span",[t._v(t._s(i.item.createUser))])]),t._v(" "),s("div",{staticClass:"list-info f-12 c-8 flex-v-center"},[s("span",{staticClass:"list-info-num"},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"阅读",expression:"'阅读'",arg:"top"}]},[t._v(t._s(i.item.virtualPv))]),t._v("/"),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"评论",expression:"'评论'",arg:"top"}]},[t._v(t._s(i.item.commentCount))]),t._v("/"),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"分享",expression:"'分享'",arg:"top"}]},[t._v(t._s(i.item.virtualShare))]),t._v("/"),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"点赞",expression:"'点赞'",arg:"top"}]},[t._v(t._s(i.item.diggCount))])]),t._v(" "),s("span",{staticClass:"flex-item"})])])}}])}),t._v(" "),s("div",{staticClass:"flex-item flex-col"},[s("div",{staticClass:"af-topbar flex-v-center"},[t.$route.params.id?s("div",{staticClass:"content-tool flex-v-center"},[s("div",{staticClass:"tool-item"},[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"编辑",expression:"'编辑'",arg:"bottom"}],attrs:{small:""},on:{click:function(i){t.openWindow("/liveEdit/edit/"+t.id)}}},[t._v("edit")])],1),t._v(" "),s("div",{staticClass:"tool-item"},[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"删除",expression:"'删除'",arg:"bottom"}],attrs:{small:""},on:{click:t.deleteArticle}},[t._v("delete")])],1),t._v(" "),s("div",{staticClass:"tool-item relative"},[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"二维码",expression:"'二维码'",arg:"bottom"}],attrs:{small:""},on:{click:function(i){t.ui.qrcodeShow=!t.ui.qrcodeShow}}},[s("img",{staticClass:"qr-icon",attrs:{src:e("tnW0")}})]),t._v(" "),t.ui.qrcodeShow?s("bubble",{on:{close:function(i){t.ui.qrcodeShow=!1}}},[s("div",{staticStyle:{width:"200px",height:"200px"}},[s("img",{attrs:{src:t.qrcode(t.id)}})])]):t._e()],1),t._v(" "),s("div",{staticClass:"tool-item"},[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"链接",expression:"'链接'",arg:"bottom"}],attrs:{small:""},on:{click:function(i){t.getLinkList(t.id)}}},[t._v("link")])],1)]):t._e(),t._v(" "),s("div",{staticClass:"flex-item"}),t._v(" "),s("account")],1),t._v(" "),s("div",{staticClass:"flex-item flex-col"},[t.id?s("div",{staticClass:"flex-center",staticStyle:{height:"60px"}},[s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item",class:{on:"ArticleContent"===t.$route.name},on:{click:function(i){t.$router.replace({path:"/live/list/"+t.id,query:t.$route.query})}}},[t._v("内容")]),t._v(" "),s("div",{staticClass:"tab-item",class:{on:"ArticleStatistics"===t.$route.name},on:{click:function(i){t.$router.replace({path:"/live/list/"+t.id+"/statistics",query:t.$route.query})}}},[t._v("统计")]),t._v(" "),s("div",{staticClass:"tab-item",class:{on:"ArticleHistory"===t.$route.name},on:{click:function(i){t.$router.replace({path:"/live/list/"+t.id+"/history",query:t.$route.query})}}},[t._v("历史")])])]):t._e(),t._v(" "),s("router-view",{attrs:{channels:t.ui.channels}})],1)]),t._v(" "),t.urlListShow?s("div",{staticClass:"urlList",on:{click:function(i){t.urlListShow=!1}}},[s("div",{staticClass:"urlList_box",on:{click:function(t){t.stopPropagation()}}},[t.urlList.length>0?s("ul",t._l(t.urlList,function(i,e){return s("li",{staticClass:"urlList_list"},[s("p",{staticClass:"newTitle"},[s("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(e+1)+".")]),t._v(t._s(i.newTitle))]),t._v(" "),s("p",{staticClass:"newUrl"},[t._v(t._s(i.url))])])})):t._e(),t._v(" "),t.urlList.length<=0?s("div",{staticStyle:{padding:"20px","text-align":"center","line-height":"340px"}},[t._v("\n        暂无数据\n      ")]):t._e()])]):t._e()],1)};n._withStripped=!0;var a={render:n,staticRenderFns:[]},r=a;var c=!1;var v=e("VU/8")(l,r,!1,function(t){c||e("QnsW")},null,null);v.options.__file="src/apps/live/list/index.vue";i.default=v.exports},"8Os0":function(t,i,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.article-list .list-item.on {\n  background: #73a9ea;\n  color: #fff;\n}\n.article-list .list-item.on .list-title span {\n  color: #fff;\n}\n.article-list .list-item.on .list-info {\n  color: rgba(255, 255, 255, 0.8);\n}\n.article-list .list-item.on .tg-icon {\n  color: rgba(255, 255, 255, 0.8);\n}\n.article-list .active {\n  color: #018be6;\n}\n.article-list th,\n.article-list td {\n  padding: 5px 10px;\n  font-size: 14px;\n}\n.article-list tr {\n  border-top: 1px solid #e1e1e1;\n}\n.article-list tr:hover {\n  background: rgba(0, 0, 0, 0.07);\n}\n",""])},QnsW:function(t,i,e){var s=e("8Os0");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("7c8419e9",s,!1,{})}});