webpackJsonp([30],{F5Bw:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.datepicker-range .datepicker-popup {\n  width: 420px!important;\n  right: -50px;\n  left: auto;\n}\n.app-collection .collection-content .setting-card {\n  max-width: 1440px;\n  margin: 20px auto;\n  border-radius: 10px;\n  padding: 20px;\n  background: #fff;\n}\n.app-collection .collection-content .setting-card th,\n.app-collection .collection-content .setting-card td {\n  padding: 5px 10px;\n}\n.app-collection .collection-content .setting-card th > p,\n.app-collection .collection-content .setting-card td > p {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n  max-width: 480px;\n}\n.app-collection .collection-content .setting-card tr {\n  border-top: 1px solid #e1e1e1;\n  cursor: pointer;\n}\n.app-collection .collection-content .setting-card tr:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.app-collection .account {\n  position: absolute;\n  right: 15px;\n  top: 8px;\n  z-index: 30;\n}\n.app-collection .navigator-item.active {\n  background: #66bb6a;\n  color: #fff;\n}\n.app-collection .navigator-item .icon {\n  -webkit-transition: none;\n  transition: none;\n}\n.app-collection .collection-content .setting-card {\n  max-width: 1440px;\n  margin: 20px auto;\n  border-radius: 10px;\n  padding: 20px;\n  background: #fff;\n  overflow: auto;\n}\n.app-collection .collection-content .setting-card th,\n.app-collection .collection-content .setting-card td {\n  padding: 5px 10px;\n}\n.app-collection .collection-content .setting-card tr {\n  border-top: 1px solid #e1e1e1;\n  cursor: pointer;\n}\n.app-collection .collection-content .setting-card tr:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.app-collection .collection-content .add-btn {\n  color: #008cff;\n  padding: 14px 30px;\n  cursor: pointer;\n  -webkit-transition: background 0.2s;\n  transition: background 0.2s;\n}\n.app-collection .collection-content .add-btn:active {\n  background: #e1e1e1;\n}\n.app-collection .collection-content .layer-text th,\n.app-collection .collection-content .layer-text td {\n  padding: 5px 15px;\n}\n.app-collection .collection-content .layer-text th {\n  width: 130px;\n}\n",""])},O28l:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.search_box[data-v-4728f715]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px;\n  padding: 0 10px;\n}\n.seaceh_list[data-v-4728f715]{\n  margin-right: 20px;\n}\n.seaceh_list .check-box[data-v-4728f715]{\n  margin: 0;\n}\n",""])},nx6D:function(t,n,e){var i=e("F5Bw");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("3e97833a",i,!1,{})},rx0e:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("2get"),a=e("XRQI"),o=e("WUXh"),c=e("PJh5"),l=e.n(c),s={name:"app-collection",components:{Account:i.a,Dock:a.a,VueDatepickerLocal:o.a},data:function(){return{loading:!1,searchTime:[],list:[],page:1,total:1,title:"",source:"",sourceList:[{value:"人民网",state:!1},{value:"卫星网",state:!1},{value:"中国驻俄罗斯大使馆",state:!1},{value:"俄罗斯驻华使馆",state:!1},{value:"PNA",state:!1},{value:"俄罗斯报",state:!1},{value:"俄罗斯外交部",state:!1}]}},methods:{search:function(){var t=this;this.loading=!0;var n="";this.sourceList.forEach(function(t){t.state&&(n=n+t.value+",")});var e="",i="";2==this.searchTime.length&&(e=l()(this.searchTime[0]).format("YYYY-MM-DD"),i=l()(this.searchTime[1]).format("YYYY-MM-DD")),this.$http.post("/cri-cms-platform/collectionNew/queryListCollectionNew.monitor",{page:this.page,startTime:e,endTime:i,source:n,title:this.title}).then(function(n){t.list=n.pages,t.total=n.totalRowsAmount}).catch(function(n){t.$toast(n.msg)}).finally(function(){t.loading=!1})},getList:function(){var t=this;this.loading=!0,this.$http.post("/cri-cms-platform/collectionNew/queryListCollectionNew.monitor",{page:this.page}).then(function(n){console.log(n),t.list=n.pages,t.total=n.totalRowsAmount}).catch(function(n){t.$toast(n.msg)}).finally(function(){t.loading=!1})},openUrl:function(t){window.open(t)}},created:function(){this.getList()}},r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"abs bg-f c-6 flex-col app-collection"},[e("div",{staticClass:"af-topbar flex-v-center"},[e("dock",{attrs:{title:"采集",color:"#2088ff"}}),t._v(" "),e("div",{staticClass:"flex-item"}),t._v(" "),e("account")],1),t._v(" "),e("div",{staticClass:"flex-item scroll-y bg-e relative collection-content"},[e("transition",{attrs:{name:"fade"}},[t.loading?e("div",{staticClass:"abs bg-e",staticStyle:{"z-index":"99"}},[e("loading",{staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})],1):t._e()]),t._v(" "),e("div",{staticClass:"setting-card f-14",staticStyle:{"min-height":"400px"}},[e("div",{staticClass:"search_box"},[e("div",{staticClass:"seaceh_list"},[t._v("来源：")]),t._v(" "),t._l(t.sourceList,function(n){return e("div",{key:n.value,staticClass:"seaceh_list"},[e("label",[e("check-box",{model:{value:n.state,callback:function(e){t.$set(n,"state",e)},expression:"item.state"}}),e("span",[t._v(t._s(n.value))])],1)])})],2),t._v(" "),e("div",{staticClass:"search_box",staticStyle:{"margin-bottom":"30px"}},[e("div",{staticClass:"seaceh_list"},[e("span",[t._v("搜索内容：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticStyle:{padding:"0 15px",height:"32px",width:"200px",border:"1px solid #e5e5e5"},attrs:{type:"text"},domProps:{value:t.title},on:{input:function(n){n.target.composing||(t.title=n.target.value)}}})]),t._v(" "),e("div",{staticClass:"seaceh_list"},[e("vue-datepicker-local",{attrs:{format:"YYYY-MM-DD","show-buttons":""},model:{value:t.searchTime,callback:function(n){t.searchTime=n},expression:"searchTime"}})],1),t._v(" "),e("div",{staticClass:"seaceh_list"},[e("btn",{on:{click:t.search}},[t._v("搜索")])],1)]),t._v(" "),e("table",[t._m(0),t._v(" "),e("tbody",t._l(t.list,function(n,i){return e("tr",{key:i,on:{click:function(e){t.openUrl(n.url)}}},[e("td",{staticStyle:{width:"100px"}},[e("p",[t._v(t._s(n.keyWord))])]),t._v(" "),e("td",{staticStyle:{width:"100px"}},[e("p",[t._v(t._s(n.source))])]),t._v(" "),e("td",{staticStyle:{width:"calc(50% - 150px)"}},[e("p",[t._v(t._s(n.title))])]),t._v(" "),e("td",{staticStyle:{width:"calc(50% - 150px)"}},[e("p",[t._v(t._s(n.url))])]),t._v(" "),e("td",{staticStyle:{width:"100px"}},[e("p",[t._v(t._s(n.createDate))])])])}))]),t._v(" "),e("div",{staticClass:"flex-center"},[e("pagination",{attrs:{page:t.page,size:20,total:t.total},on:{change:function(n){t.page=n,t.search()}}})],1)])],1)])};r._withStripped=!0;var p={render:r,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("th",{staticStyle:{width:"100px"}},[e("p",[t._v("关键词")])]),t._v(" "),e("th",{staticStyle:{width:"100px"}},[e("p",[t._v("来源")])]),t._v(" "),e("th",{staticStyle:{width:"calc(50% - 150px)"}},[e("p",[t._v("标题")])]),t._v(" "),e("th",{staticStyle:{width:"calc(50% - 150px)"}},[e("p",[t._v("连接")])]),t._v(" "),e("th",{staticStyle:{width:"100px"}},[e("p",[t._v("采集日期")])])])}]},d=p;var u=!1;var v=e("VU/8")(s,d,!1,function(t){u||(e("u6fc"),e("nx6D"))},"data-v-4728f715",null);v.options.__file="src/apps/collection/index.vue";n.default=v.exports},u6fc:function(t,n,e){var i=e("O28l");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("3e9f1c7e",i,!1,{})}});