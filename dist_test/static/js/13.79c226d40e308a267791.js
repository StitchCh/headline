webpackJsonp([13],{"0vW4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),a=i.n(n),o=i("Dd8w"),r=i.n(o),l=i("PJh5"),s=i.n(l),c=(i("3f40"),i("4qOc"),i("G0J2")),m=i("AJTU"),d=i.n(m),u=i("O4Lo"),p=i.n(u),h=i("jelr"),f=i("4r9f"),v=i("jLa5");c.Quill.register("modules/imageResize",d.a);var g={name:"article-editor",components:{quillEditor:c.quillEditor,MediaPhotos:h.default,MediaVideos:f.default,MediaAudios:v.default},props:["url"],data:function(){var t=this;return{ui:{imageSelectorShow:!1,videoSelectorShow:!1,audioSelectorShow:!1,index:0},title:"",ecommerceUrl:"",titleColorBoxShow:!1,titleColor:"#000000",content:"",options:{theme:"snow",placeholder:"请输入内容",modules:{toolbar:{container:[[{header:[2,3,4,!1]}],["bold","italic","underline","strike"],["blockquote","code-block","link","image","video","audio"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"},{align:[]}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],["clean"]],handlers:{image:function(e){e?(t.ui.index=this.quill.getSelection().index,t.ui.imageSelectorShow=!0):this.quill.format("image",!1)},video:function(e){e?(t.ui.index=this.quill.getSelection().index,t.ui.videoSelectorShow=!0):this.quill.format("video",!1)},audio:function(){t.$toast()}}},imageResize:{displayStyles:{backgroundColor:"black",border:"none",color:"white"},modules:["Resize","DisplaySize","Toolbar"]}}}}},mounted:function(){this.url&&(this.ecommerceUrl=this.url)},methods:{titleChange:function(){var t=this;1002==sessionStorage.siteId&&this.$http.post("/cri-cms-platform/article/getKeyToTitle.monitor",{doc:this.title}).then(function(e){t.$emit("changeTitle",e.key.join(","))})},getText:function(){return this.$refs.editor.quill.getText()},getKeyGenerate:p()(function(){this.$emit("getKeyGenerate")},1e3),changeTitleColor:function(t){this.titleColor=t,this.titleColorBoxShow=!1},insertImage:function(){var t=this,e=this.$refs.editor.quill;this.$refs.mediaPhotos.selected.forEach(function(i){e.insertEmbed(t.ui.index,"image",t.$refs.mediaPhotos.imgOrigin+i.filePath+i.fileName),e.setSelection(++t.ui.index)}),this.ui.imageSelectorShow=!1},insertVideo:function(){}}},b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ecommerce-editor"},[i("div",{staticClass:"relative"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title title_title",style:{color:t.titleColor},attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{blur:t.titleChange,input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"20px",top:"28px"}},[i("button",{staticClass:"title-colorpicker-btn",style:{background:t.titleColor},on:{click:function(e){t.titleColorBoxShow=!t.titleColorBoxShow}}}),t._v(" "),t.titleColorBoxShow?i("bubble",{on:{close:function(e){t.titleColorBoxShow=!1}}},[i("div",{staticClass:"title-color-list"},[i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#000000"},on:{click:function(e){t.changeTitleColor("#000000")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#F44336"},on:{click:function(e){t.changeTitleColor("#F44336")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#FF9800"},on:{click:function(e){t.changeTitleColor("#FF9800")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#FFEB3B"},on:{click:function(e){t.changeTitleColor("#FFEB3B")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#4CAF50"},on:{click:function(e){t.changeTitleColor("#4CAF50")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#00BCD4"},on:{click:function(e){t.changeTitleColor("#00BCD4")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#2196F3"},on:{click:function(e){t.changeTitleColor("#2196F3")}}}),t._v(" "),i("button",{staticClass:"title-colorpicker-btn",staticStyle:{background:"#9C27B0"},on:{click:function(e){t.changeTitleColor("#9C27B0")}}})])]):t._e()],1)]),t._v(" "),i("div",{staticClass:"urlbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ecommerceUrl,expression:"ecommerceUrl"}],staticClass:"urlinput",attrs:{type:"text",placeholder:"请添加电商地址"},domProps:{value:t.ecommerceUrl},on:{input:function(e){e.target.composing||(t.ecommerceUrl=e.target.value)}}})]),t._v(" "),i("quill-editor",{ref:"editor",attrs:{options:t.options},on:{change:t.getKeyGenerate},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),t._v(" "),t.ui.imageSelectorShow?i("layer",{staticClass:"tc_box",attrs:{title:"选择图片",width:"800px"}},[i("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[i("media-photos",{ref:"mediaPhotos",attrs:{"select-mode":""}})],1),t._v(" "),i("div",{staticClass:"layer-btns"},[i("btn",{attrs:{flat:""},on:{click:function(e){t.ui.imageSelectorShow=!1}}},[t._v("取消")]),t._v(" "),i("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.insertImage}},[t._v("选择")])],1)]):t._e(),t._v(" "),t.ui.videoSelectorShow?i("layer",{staticClass:"tc_box",attrs:{title:"选择视频",width:"800px"}},[i("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[i("media-videos",{ref:"mediaVideos",attrs:{"select-mode":""}})],1),t._v(" "),i("div",{staticClass:"layer-btns"},[i("btn",{attrs:{flat:""},on:{click:function(e){t.ui.videoSelectorShow=!1}}},[t._v("取消")]),t._v(" "),i("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.insertVideo}},[t._v("选择")])],1)]):t._e()],1)};b._withStripped=!0;var x={render:b,staticRenderFns:[]},_=x;var y=!1;var w=i("VU/8")(g,_,!1,function(t){y||i("1/id")},null,null);w.options.__file="src/apps/ecommerce/editor.vue";var C=w.exports,k=i("WUXh"),S=i("obnb"),q=i("y/1I"),$={name:"app-article-add-comment",props:{value:{type:String,default:""}},data:function(){return{show:!1,form:{names:[],comments:[],displayMinutes:"30"},name:{show:!1,value:""},content:{show:!1,value:""}}},methods:{addCommentName:function(){this.name.value.replace(/\s/g,"")&&this.form.names.push(this.name.value),this.name.value="",this.name.show=!1},addCommentContent:function(){this.content.value.replace(/\s/g,"")&&this.form.comments.push(this.content.value),this.content.value="",this.content.show=!1}},created:function(){console.log(1,this.value),this.value&&(this.form=JSON.parse(this.value))},watch:{"form.names":function(){var t=a()(this.form);this.form.names.length&&this.form.comments.length||(t=""),this.$emit("input",t)},"form.comments":function(){var t=a()(this.form);this.form.names.length&&this.form.comments.length||(t=""),this.$emit("input",t)},"form.displayMinutes":function(){var t=a()(this.form);this.form.names.length&&this.form.comments.length||(t=""),this.$emit("input",t)}}},T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-v-center",staticStyle:{"margin-top":"10px"}},[i("i",{staticClass:"icon f-20 c-8",staticStyle:{"margin-right":"10px"}},[t._v("comment")]),t._v(" "),i("span",{staticClass:"flex-item"},[t._v("已添加 "+t._s(t.form.comments.length)+" 条评论")]),t._v(" "),i("span",{staticClass:"blue a",on:{click:function(e){t.show=!0}}},[t._v("查看")]),t._v(" "),t.show?i("layer",{attrs:{title:"添加评论",width:"600px","mask-click":""},on:{close:function(e){t.show=!1}}},[i("div",{staticClass:"layer-text add-comment bg-e"},[i("div",{staticClass:"add-comment-setting"},[i("div",{staticClass:"title"},[t._v("设置")]),t._v(" "),i("ul",{staticClass:"content"},[i("li",{staticClass:"flex"},[i("div",[t._v("终端显示频率（分钟/条）")]),t._v(" "),i("div",{staticClass:"flex-item"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.displayMinutes,expression:"form.displayMinutes"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.displayMinutes},on:{input:function(e){e.target.composing||t.$set(t.form,"displayMinutes",e.target.value)}}})])])]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v("评论人")]),t._v(" "),i("ul",{staticClass:"content"},[t._l(t.form.names,function(e,n){return i("li",{key:n},[i("div",{staticClass:"flex"},[t._v("\n              "+t._s(e)+"\n              "),i("span",{staticClass:"flex-item"}),t._v(" "),i("span",{staticClass:"delete",on:{click:function(e){t.form.names.splice(n,1)}}},[t._v("删除")])])])}),t._v(" "),i("li",{staticClass:"add-comment-btn"},[t.name.show?i("input",{directives:[{name:"model",rawName:"v-model",value:t.name.value,expression:"name.value"}],ref:"addCommentName",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.name.value},on:{blur:t.addCommentName,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$refs.addCommentName.blur()},input:function(e){e.target.composing||t.$set(t.name,"value",e.target.value)}}}):i("div",{on:{click:function(e){t.name.show=!0,t.$nextTick(function(){t.$refs.addCommentName.focus()})}}},[t._v("添加...")])])],2)]),t._v(" "),i("div",[i("div",{staticClass:"title"},[t._v("评论内容")]),t._v(" "),i("ul",{staticClass:"content"},[t._l(t.form.comments,function(e,n){return i("li",{key:n},[i("div",{staticClass:"flex"},[t._v("\n              "+t._s(e)+"\n              "),i("span",{staticClass:"flex-item"}),t._v(" "),i("span",{staticClass:"delete",on:{click:function(e){t.form.comments.splice(n,1)}}},[t._v("删除")])])])}),t._v(" "),i("li",{staticClass:"add-comment-btn"},[t.content.show?i("input",{directives:[{name:"model",rawName:"v-model",value:t.content.value,expression:"content.value"}],ref:"addCommentContent",attrs:{type:"text",placeholder:"请输入"},domProps:{value:t.content.value},on:{blur:t.addCommentContent,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$refs.addCommentContent.blur()},input:function(e){e.target.composing||t.$set(t.content,"value",e.target.value)}}}):i("div",{on:{click:function(e){t.content.show=!0,t.$nextTick(function(){t.$refs.addCommentContent.focus()})}}},[t._v("添加...")])])],2)])])]):t._e()],1)};T._withStripped=!0;var P={render:T,staticRenderFns:[]},I=P;var D=!1;var F=i("VU/8")($,I,!1,function(t){D||i("XTLC")},null,null);F.options.__file="src/apps/ecommerce/comment.vue";var M=F.exports,L={name:"app-article-add-relates",props:{value:{type:String,default:""},single:{type:Boolean,default:!1},channels:{type:Array,default:function(){return[]}},title:{type:String,default:""},icon:{type:String,default:""},url:{type:String,default:""}},data:function(){return{show:!1,loading:!0,list:{selected:[],unselected:[]},form:{selectedIds:"",title:"",channelId:""},channelShow:!1,channelIds:[]}},methods:{getList:function(){var t=this;return this.loading=!0,this.$http.post(this.url,this.form).then(function(e){t.list=e||{},t.loading=!1}).catch(function(t){console.log(t)})},searchTitle:function(){""!==this.form.title&&this.getList()},select:function(t){if(this.single)return this.list.selected.splice(0,1,this.list.unselected.splice(t,1)[0]),this.form.selectedIds=this.list.selected[0].id,void this.getList();10!==this.list.selected.length?(this.list.selected.push(this.list.unselected.splice(t,1)[0]),this.form.selectedIds=this.list.selected.map(function(t){return t.id}).join(",")):this.$emit("最多可添加10条")},remove:function(t){this.list.selected.splice(t,1),this.form.selectedIds=this.list.selected.map(function(t){return t.id}).join(","),this.getList()}},created:function(){this.form.selectedIds=this.value,this.getList()},watch:{"form.selectedIds":function(){this.$emit("input",this.form.selectedIds)},channelIds:function(t){this.form.channelId=t.join(","),this.getList()}}},N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-item add-relates"},[i("div",{staticClass:"flex-v-center blue a",on:{click:function(e){t.show=!0}}},[i("i",{staticClass:"icon f-20 add-other-icon"},[t._v(t._s(t.icon))]),t._v(" "),i("span",{staticClass:"flex-item"},[t._v("添加"+t._s(t.title))]),t._v(" "),t._t("afterTitle")],2),t._v(" "),t.list.selected.length?i("ul",{staticStyle:{"margin-top":"10px"}},t._l(t.list.selected,function(e,n){return i("li",{key:e.id,staticClass:"flex-v-center item",attrs:{title:e.title}},[i("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(e.title))]),t._v(" "),i("span",{staticClass:"flex-item"}),t._v(" "),i("i",{staticClass:"icon a",staticStyle:{"font-size":"18px"},on:{click:function(e){t.remove(n)}}},[t._v("delete")])])})):t._e(),t._v(" "),t._t("default"),t._v(" "),t.show?i("layer",{attrs:{title:"添加"+t.title,width:"800px","mask-click":""},on:{close:function(e){t.show=!1}}},[i("div",{staticClass:"layer-text bg-e relative"},[i("transition",{attrs:{name:"fade"}},[t.loading?i("div",{staticClass:"flex-center abs bg-e",staticStyle:{"z-index":"10"}},[i("loading")],1):t._e()]),t._v(" "),i("div",{staticClass:"flex-v-center"},[i("input-box",{ref:"searchTitle",attrs:{label:"搜索标题"},on:{blur:t.searchTitle},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$refs.searchTitle.$refs.input.blur()}},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),t._v(" "),i("div",{staticClass:"relative"},[i("span",{staticClass:"a",staticStyle:{color:"rgba(0 ,0 ,0, .4)"},on:{click:function(e){t.channelShow=!t.channelShow}}},[t._v("筛选频道"),i("i",{staticClass:"icon"},[t._v("keyboard_arrow_down")])]),t._v(" "),t.channelShow?i("bubble",{on:{close:function(e){t.channelShow=!1}}},[i("div",{staticStyle:{padding:"10px 0",width:"280px"}},[i("tree",{attrs:{data:t.channels,"pid-txt":"channelPartentId",nameTxt:"channelName","show-checkbox":"","checked-list":t.channelIds},on:{"update:checkedList":function(e){t.channelIds=e}}})],1)]):t._e()],1)],1),t._v(" "),i("div",{staticClass:"flex"},[i("div",{staticClass:"flex-item",staticStyle:{"margin-right":"10px","max-width":"50%"}},[i("div",{staticClass:"title"},[t._v("点击选取")]),t._v(" "),i("ul",{staticClass:"content"},[t.list.unselected.length?t._e():i("li",{staticClass:"flex-center none"},[i("no-data")],1),t._v(" "),t._l(t.list.unselected,function(e,n){return i("li",{key:e.id,on:{click:function(e){t.select(n)}}},[i("div",[t._v(t._s(e.title))])])})],2)]),t._v(" "),i("div",{staticClass:"flex-item",staticStyle:{"max-width":"50%"}},[i("div",{staticClass:"title"},[t._v("已选取")]),t._v(" "),i("ul",{staticClass:"content"},[t.list.selected.length?t._e():i("li",{staticClass:"flex-center none"},[i("no-data")],1),t._v(" "),t._l(t.list.selected,function(e,n){return i("li",{key:e.id,on:{click:function(e){t.remove(n)}}},[i("div",[t._v(t._s(e.title))])])})],2)])])],1)]):t._e()],2)};N._withStripped=!0;var E={render:N,staticRenderFns:[]},z=E;var A=!1;var U=i("VU/8")(L,z,!1,function(t){A||i("s0qQ")},null,null);U.options.__file="src/apps/ecommerce/relates.vue";var j=U.exports,O=i("c/Tr"),W=i.n(O),B=i("Zrlr"),H=i.n(B),R={name:"app-article-add-attachment",props:{value:{type:String,default:""},defaultList:Array},data:function(){return{list:[],uploadList:[]}},methods:{uploadFile:function(t){var e=this;W()(t.target.files).forEach(function(t){var i=new function t(e){H()(this,t),this.id=e.lastModified,this.alias=e.name,this.size=e.size,this.status="uploading",this.progress=0,this.source=null}(t);i.source=e.$http.CancelToken.source(),e.uploadList.push(i),e.$http.post("/cri-cms-platform/ecommerce/upload/attachment.monitor",{file:t},{onUploadProgress:function(t){t.lengthComputable&&(i.progress=t.loaded/t.total*100)},cancelToken:i.source.token}).then(function(t){i.status="done",e.uploadList.splice(e.uploadList.findIndex(function(t){return t===i}),1),e.list.push(t[0])}).catch(function(t){console.log(t),e.uploadList.splice(e.uploadList.findIndex(function(t){return t===i}),1),e.$toast(t.msg||t.message||"上传失败")})})},removeFile:function(t){var e=this.list;this.$confirm({title:"您确定要删除该文件吗？",text:"文件删除后将无法恢复。",btns:["取消","删除"],color:"red",yes:function(){e.splice(t,1)}})}},created:function(){this.defaultList&&(this.list=JSON.parse(a()(this.defaultList)))},watch:{list:function(t){this.$emit("input",t.map(function(t){return t.id}).join(","))}}},V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-item add-attachment"},[i("div",{staticClass:"flex-v-center blue a"},[i("i",{staticClass:"icon f-20 add-other-icon"},[t._v("attach_file")]),t._v(" "),i("span",{staticClass:"flex-item",on:{click:function(e){t.$refs.input.click()}}},[t._v("添加附件")]),t._v(" "),i("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file",multiple:""},on:{change:t.uploadFile}})]),t._v(" "),t.list.length||t.uploadList.length?i("ul",{staticStyle:{"margin-top":"10px"}},[t._l(t.list,function(e,n){return i("li",{key:e.id,staticClass:"flex-v-center item relative"},[t._m(0,!0),t._v(" "),i("div",{staticClass:"flex-item",attrs:{title:e.alias}},[i("div",{staticClass:"f-12 file-title"},[t._v(t._s(e.alias))]),t._v(" "),i("div",{staticClass:"c-a f-12"},[t._v(t._s(t._f("filesize")(e.size)))])]),t._v(" "),i("a",{attrs:{href:e.url,download:e.alias,target:"_blank"}},[i("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"下载",expression:"'下载'",arg:"top"}],attrs:{small:""}},[t._v("file_download")])],1),t._v(" "),i("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"删除",expression:"'删除'",arg:"top"}],attrs:{small:""},on:{click:function(e){t.removeFile(n)}}},[t._v("delete")])],1)}),t._v(" "),t._l(t.uploadList,function(e){return i("li",{key:e.id,staticClass:"flex-v-center item relative"},[t._m(1,!0),t._v(" "),i("div",{staticClass:"flex-item",attrs:{title:e.alias}},[i("div",{staticClass:"f-12 file-title"},[t._v(t._s(e.alias))]),t._v(" "),i("div",{staticClass:"c-a f-12"},[t._v(t._s(t._f("filesize")(e.size)))]),t._v(" "),"uploading"===e.status?i("div",{staticStyle:{height:"2px",background:"#4CAF50",transition:"width .3s"},style:{width:e.progress+"%"}}):t._e()]),t._v(" "),i("div",{staticStyle:{width:"40px",height:"30px","font-size":"12px","line-height":"30px"}},[t._v(t._s(Math.round(e.progress))+"%")]),t._v(" "),i("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"删除",expression:"'删除'",arg:"top"}],attrs:{small:""},on:{click:function(t){e.source.cancel("取消上传")}}},[t._v("delete")])],1)})],2):t._e()])};V._withStripped=!0;var G={render:V,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"file-thumb flex-center"},[e("i",{staticClass:"icon",staticStyle:{color:"#888"}},[this._v("insert_drive_file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"file-thumb flex-center"},[e("i",{staticClass:"icon",staticStyle:{color:"#888"}},[this._v("insert_drive_file")])])}]},K=G;var Z=!1;var Y=i("VU/8")(R,K,!1,function(t){Z||i("pULW")},null,null);Y.options.__file="src/apps/ecommerce/attachment.vue";var J=Y.exports,Q=i("nW/E"),X={name:"app-article-add-thumb",components:{MediaPhotos:h.default,MediaPreview:Q.a},props:{scale:{type:Boolean,default:!1},value:{type:Object,default:null},width:{type:String,default:""},height:{type:String,default:""}},data:function(){return{show:!1,image:{id:"",url:""},preview:{show:!1,list:[],index:0}}},methods:{refresh:function(t){this.$refs.mediaPhotos.getList("",t),this.preview.show=!1},onDelected:function(t){this.$refs.mediaPhotos.getList()},selectImage:function(){var t=this.$refs.mediaPhotos.selected[0]||null;if(this.scale&&(console.log(t.scale==sessionStorage.imageratio),t.scale!=sessionStorage.imageratio))return this.$toast("请选择比例为"+sessionStorage.imageratio+"的图片"),!1;this.image={id:t?t.id:"",url:t?this.$refs.mediaPhotos.imgOrigin+t.filePath+t.fileName:""},this.$emit("input",t?this.image:t),this.show=!1},onPreview:function(t){this.preview.list=t.list||[],this.preview.index=t.index||0,this.preview.show=!0}},created:function(){this.value&&(this.image=JSON.parse(a()(this.value)))}},tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-article-add-thumb"},[i("div",{staticClass:"add-photo-btn a flex-center",style:{width:t.width,height:t.height},on:{click:function(e){t.show=!0}}},[t.image.id?i("img",{attrs:{src:t.image.url,width:"100%",alt:""}}):i("i",{staticClass:"icon f-32 c-a"},[t._v("add_photo_alternate")])]),t._v(" "),t.show?i("layer",{staticClass:"tc_box",attrs:{title:"选择图片",width:"1000px"}},[i("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[i("media-photos",{ref:"mediaPhotos",attrs:{"select-mode":"","single-select":""},on:{preview:t.onPreview}})],1),t._v(" "),i("div",{staticClass:"layer-btns"},[i("btn",{attrs:{flat:""},on:{click:function(e){t.show=!1}}},[t._v("取消")]),t._v(" "),i("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.selectImage}},[t._v("选择")])],1)]):t._e(),t._v(" "),t.preview.show?i("media-preview",{attrs:{list:t.preview.list,index:t.preview.index,type:t.$route.meta.type},on:{close:function(e){t.preview.show=!1},refresh:t.refresh,delected:t.onDelected}}):t._e()],1)};tt._withStripped=!0;var et={render:tt,staticRenderFns:[]},it=et;var nt=!1;var at=i("VU/8")(X,it,!1,function(t){nt||i("vwwZ")},null,null);at.options.__file="src/apps/ecommerce/thumb.vue";var ot=at.exports,rt={ecommerce:{getUrl:"/cri-cms-platform/ecommerce/get.monitor"},draft:{getUrl:"/cri-cms-platform/articleAutoSave/getAuto.monitor"}},lt={name:"app-article-add",components:{ArticleEditor:C,VueDatepickerLocal:k.a,SelectCard:S.a,SelectCardOption:q.a,AppArticleAddComment:M,AppArticleAddRelates:j,AppArticleAddAttachment:J,AppArticleAddThumb:ot},props:["from","id"],data:function(){return{scaleshow:!1,article:null,getend:!1,ui:{loading:!1,optionShow:!0,channelShow:!1,channels:[],gallerySettingShow:!1,gallerySettingDisplayPositionShow:!1,submited:!1},getif:!1,form:{ecommerceUrl:"",app:"ECOMMERCE",title:"",titleColor:"",content:"",channelIds:"",galleryId:"",gallerySettingMaxWidth:"640",gallerySettingMinHeight:"480",gallerySettingThumbWidth:"80",gallerySettingThumbHeight:"60",gallerySettingDisplayPosition:"1",relateIds:"",specialId:"",isOpenComment:1,isOriginal:0,originalFrom:"",originalUrl:"",isRecommnd:0,abstarcts:"",keywords:"",author:this.$store.state.account.authorList[0],isWatermarked:0,virtualPv:"",virtualComment:"",virtualShare:"",virtualDigg:"",hasThumb:0,thumbType:1,thumb:"",attachmentIds:"",isListShowPic:1},thumb:{thumb1:null,thumb2:null,thumb3:null},attachmentDefaultList:[],addCommentShow:!1,autoSaveId:"",autoSaveTimer:null}},computed:{channelIds:{get:function(){return""===this.form.channelIds?[]:this.form.channelIds.split(",")},set:function(t){this.form.channelIds=t.join(",")}},channelNames:function(){var t=this;return this.channelIds.length?this.channelIds.map(function(e){return t.ui.channels.find(function(t){return t.id===e}).channelName}).join("，"):"选择栏目"}},methods:{beforeClose:function(){if(this.ui.submited)return clearInterval(this.autoSaveTimer),window.opener=null,void window.close();var t=this;this.$confirm({title:"您确定要离开吗？",text:"未保存的内容将无法恢复。",btns:["取消","离开"],color:"red",yes:function(){clearInterval(t.autoSaveTimer),window.opener=null,t.$router.go(-1)},no:function(){}})},getChannels:function(){var t=this;this.$http.post("/cri-cms-platform/ecommerce/getChannels.monitor").then(function(e){t.ui.channels=e||[],t.getend=!0}).catch(function(t){console.log(t)})},getKeyGenerate:function(){var t=this;if(!this.from&&!this.id){var e=this.$refs.editor.getText();e.trim()&&this.$http.post("/cri-cms-platform/ecommerce/getKeyGenerate.monitor",{doc:e}).then(function(e){t.form.abstarcts=e.gerenate,1002!=sessionStorage.siteId&&(t.form.keywords=e.key.join(","))})}},disabledDate:function(t,e){return t<=new Date},autoSave:function(){var t=this,e=this.$refs.editor,i=e.title,n=e.titleColor,a=e.content,o=e.ecommerceUrl;this.form.title=i,this.form.titleColor=n,this.form.content=a,this.form.ecommerceUrl=o;var l=r()({},this.form);return this.autoSaveId&&(l.id=this.autoSaveId),this.$http.post("/cri-cms-platform/articleAutoSave/saveAuto.monitor",l).then(function(e){t.autoSaveId=e.autoSaveId,t.$toast("保存成功")}).catch(function(e){t.$toast(e.msg||e||"保存失败")})},submit:function(){var t=this,e=this.id?"/cri-cms-platform/ecommerce/update.monitor":"/cri-cms-platform/ecommerce/save.monitor",i=this.$refs.editor,n=i.title,a=i.titleColor,o=i.content,l=i.getText,c=i.ecommerceUrl;if(console.log(o),n)if(l().replace(/\s/g,""))if(c)if(this.form.channelIds)if(this.form.thumb){this.form.title=n,this.form.titleColor=a,this.form.content=o,this.form.ecommerceUrl=c;var m=r()({},this.form);m.createDate&&(m.createDate=s()(m.createDate).format("YYYY-MM-DD HH:mm:ss")),this.id&&(m.id=this.id),m.isListShowPic=1==m.isListShowPic?0:1,this.$http.post(e,m).then(function(e){t.ui.submited=!0,window.opener.location.reload(),window.opener=null,window.close()}).catch(function(e){t.$toast(e||e.msg||"保存失败"),console.log(e)})}else this.$toast("请选头图");else this.$toast("请选择栏目");else this.$toast("请输入链接地址");else this.$toast("请输入内容");else this.$toast("请输入标题")}},filters:{gallerySettingDisplayPosition:function(t){return"1"===t?"正文正上方":"2"===t?"正文正下方":void 0}},created:function(){var t=this;this.getChannels(),this.autoSaveTimer=setInterval(function(){t.autoSave()},6e4)},mounted:function(){var t=this;this.from&&this.id?(this.ui.loading=!0,"draft"===this.from&&(this.autoSaveId=this.id),this.$http.post(rt[this.from].getUrl,{id:this.id,app:"ECOMMERCE"}).then(function(e){for(var i in console.log(e),t.form)"virtualComment"!==i?("thumb"===i&&(t.thumb.thumb1=e.content.thumb[0],t.thumb.thumb2=e.content.thumb[1],t.thumb.thumb3=e.content.thumb[2]),t.form[i]="isDelete"!==i&&"isOpenComment"!==i&&"isOriginal"!==i&&"isRecommnd"!==i&&"isWatermarked"!==i&&"terminalApp"!==i&&"terminalPc"!==i&&"terminalWeb"!==i&&"hasThumb"!==i&&"isListShowPic"!==i?e.content[i]:Number(e.content[i])):""===e.content[i]?t.form[i]="":t.form[i]=a()(e.content[i]);t.form.isListShowPic=1==t.form.isListShowPic?0:1,t.form.ecommerceUrl=e.ecommerce.ecommerceUrl,t.form.createDate=e.content.createDate,t.form.content=e.ecommerce.content,t.form.channelIds=e.channelIds||"",t.form.relateIds=e.relateArticle.map(function(t){return t.id}).join(","),t.form.specialId=e.relateSpecial.id||"",t.attachmentDefaultList=e.attachments,t.form.gallerySettingDisplayPosition=e.gallerySettingDisplayPosition||"1",t.form.gallerySettingMaxWidth=e.gallerySettingMaxWidth||"640",t.form.gallerySettingMinHeight=e.gallerySettingMinHeight||"480",t.form.gallerySettingThumbHeight=e.gallerySettingThumbHeight||"80",t.form.gallerySettingThumbWidth=e.gallerySettingThumbWidth||"60",t.ui.loading=!1,t.$nextTick(function(){t.$refs.editor.title=t.form.title,t.$refs.editor.titleColor=t.form.titleColor,t.$refs.editor.content=t.form.content}),t.getif=!0}).catch(function(e){console.log(e),t.getif=!0})):(this.getif=!0,this.form.virtualPv=500+parseInt(300*Math.random()),this.form.virtualShare=5+parseInt(5*Math.random()),this.form.virtualDigg=5+parseInt(5*Math.random()))},watch:{"thumb.thumb1":function(t){console.log(t),2===this.form.thumbType?t||this.thumb.thumb2||this.thumb.thumb3?(this.form.hasThumb=1,this.form.thumb=[t,this.thumb.thumb2,this.thumb.thumb3].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb=""):t?(this.form.hasThumb=1,this.form.thumb=t.id):(this.form.hasThumb=0,this.form.thumb="")},"thumb.thumb2":function(t){this.thumb.thumb1||t||this.thumb.thumb3?(this.form.hasThumb=1,this.form.thumb=[this.thumb.thumb1,t,this.thumb.thumb3].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb="")},"thumb.thumb3":function(t){this.thumb.thumb1||this.thumb.thumb2||t?(this.form.hasThumb=1,this.form.thumb=[this.thumb.thumb1,this.thumb.thumb2,t].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb="")},"form.thumbType":function(t){2===t?this.thumb.thumb1||this.thumb.thumb2||this.thumb.thumb3?(this.form.hasThumb=1,this.form.thumb=[this.thumb.thumb1,this.thumb.thumb2,this.thumb.thumb3].filter(function(t){return t}).map(function(t){return t.id}).join(",")):(this.form.hasThumb=0,this.form.thumb=""):this.thumb.thumb1?(this.form.hasThumb=1,this.form.thumb=this.thumb.thumb1.id):(this.form.hasThumb=0,this.form.thumb="")}}},st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"abs bg-f flex c-6 f-14 app-article-add"},[t.ui.loading?i("div",{staticClass:"abs flex-center bg-light-rgb-5",staticStyle:{"z-index":"10"}},[i("loading",{attrs:{size:"50"}})],1):[i("div",{staticClass:"flex-item flex-col"},[i("div",{staticClass:"top-bar flex-v-center",staticStyle:{height:"55px",padding:"0 20px"}},[i("div",{staticClass:"a flex-v-center",on:{click:t.beforeClose}},[i("icon-btn",{staticStyle:{"margin-right":"10px"}},[t._v("arrow_back")]),t._v(" "),i("span",{staticClass:"f-18"},[t._v("返回")])],1),t._v(" "),i("div",{staticClass:"flex-item"}),t._v(" "),i("div",{staticClass:"flex-v-center"},[i("btn",{staticStyle:{"margin-right":"10px"},attrs:{big:"",flat:""},on:{click:t.autoSave}},[t._v("保存草稿")]),t._v(" "),i("btn",{staticStyle:{"margin-right":"20px"},attrs:{big:""},on:{click:t.submit}},[t._v("保存")]),t._v(" "),i("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"发布选项",expression:"'发布选项'",arg:"bottom"}],on:{click:function(e){t.ui.optionShow=!t.ui.optionShow}}},[t._v("menu")])],1)]),t._v(" "),i("div",{staticClass:"flex-item scroll-y"},[t.getif?i("article-editor",{ref:"editor",attrs:{url:t.form.ecommerceUrl},on:{changeTitle:function(e){t.form.keywords=e},getKeyGenerate:t.getKeyGenerate}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"art-options c-4 scroll-y",style:{width:t.ui.optionShow?"320px":"0px"}},[i("div",{staticStyle:{width:"280px",margin:"0 20px"}},[t.getend?i("div",{staticClass:"option-item flex-v-center relative a",on:{click:function(e){t.ui.channelShow=!t.ui.channelShow}}},[i("span",{staticClass:"flex-item"},[t._v(t._s(t.channelNames))]),t._v(" "),i("i",{staticClass:"icon f-20 c-a"},[t._v("keyboard_arrow_down")]),t._v(" "),t.ui.channelShow?i("bubble",{attrs:{pos:"bottom",align:"center"},on:{close:function(e){t.ui.channelShow=!1}}},[i("div",{staticStyle:{padding:"10px 0",width:"280px"}},[i("tree",{attrs:{data:t.ui.channels,"pid-txt":"channelPartentId",nameTxt:"channelName","show-checkbox":"","checked-list":t.channelIds},on:{"update:checkedList":function(e){t.channelIds=e}}})],1)]):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"option-item flex-v-center"},[i("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"推荐",expression:"'推荐'",arg:"top"}],class:{active:t.form.isRecommnd},attrs:{small:""},on:{click:function(e){t.form.isRecommnd=~~!t.form.isRecommnd}}},[t._v("thumb_up")]),t._v(" "),i("span",{staticClass:"flex-item"})],1),t._v(" "),i("div",{staticStyle:{margin:"10px 0"}},[i("app-article-add-thumb",{staticStyle:{"margin-bottom":"8px"},attrs:{scale:"",height:"160px"},model:{value:t.thumb.thumb1,callback:function(e){t.$set(t.thumb,"thumb1",e)},expression:"thumb.thumb1"}}),t._v(" "),2==t.form.thumbType?i("div",{staticClass:"flex"},[i("app-article-add-thumb",{staticClass:"flex-item",staticStyle:{"margin-right":"8px"},attrs:{scale:"",height:"80px"},model:{value:t.thumb.thumb2,callback:function(e){t.$set(t.thumb,"thumb2",e)},expression:"thumb.thumb2"}}),t._v(" "),i("app-article-add-thumb",{staticClass:"flex-item",attrs:{scale:"",height:"80px"},model:{value:t.thumb.thumb3,callback:function(e){t.$set(t.thumb,"thumb3",e)},expression:"thumb.thumb3"}})],1):t._e(),t._v(" "),i("div",{staticClass:"flex-v-center",staticStyle:{padding:"10px 5px 0 5px"}},[i("div",{staticClass:"flex-item"},[i("radio-box",{attrs:{text:"默认",label:1},model:{value:t.form.thumbType,callback:function(e){t.$set(t.form,"thumbType",e)},expression:"form.thumbType"}})],1),t._v(" "),i("div",{staticClass:"flex-item"},[i("radio-box",{attrs:{text:"三图",label:2},model:{value:t.form.thumbType,callback:function(e){t.$set(t.form,"thumbType",e)},expression:"form.thumbType"}})],1),t._v(" "),i("div",[i("radio-box",{staticStyle:{margin:"0"},attrs:{text:"16:10 大图",label:3},model:{value:t.form.thumbType,callback:function(e){t.$set(t.form,"thumbType",e)},expression:"form.thumbType"}})],1)])],1),t._v(" "),i("div",{staticClass:"option-item"},[i("div",{staticClass:"flex-v-center"},[i("span",{staticClass:"flex-item"},[t._v("显示头图")]),t._v(" "),i("switcher",{attrs:{mode:"Number"},model:{value:t.form.hasThumb,callback:function(e){t.$set(t.form,"hasThumb",e)},expression:"form.hasThumb"}})],1)]),t._v(" "),i("div",{staticClass:"option-item"},[i("div",{staticClass:"flex-v-center"},[i("span",{staticClass:"flex-item"},[t._v("列表中是否显示图片")]),t._v(" "),i("switcher",{attrs:{mode:"Number"},model:{value:t.form.isListShowPic,callback:function(e){t.$set(t.form,"isListShowPic",e)},expression:"form.isListShowPic"}})],1)]),t._v(" "),i("div",{staticClass:"option-item relative"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.abstarcts,expression:"form.abstarcts"}],attrs:{placeholder:"摘要，限制 128 字。",rows:"8"},domProps:{value:t.form.abstarcts},on:{input:function(e){e.target.composing||t.$set(t.form,"abstarcts",e.target.value)}}}),t._v(" "),i("span",{staticStyle:{position:"absolute",bottom:"3px",right:"0"},style:{color:t.form.abstarcts.length>128?"#F44336":"#999"}},[t._v(t._s(t.form.abstarcts.length)+" / 128")])]),t._v(" "),i("div",{staticClass:"option-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.keywords,expression:"form.keywords"}],attrs:{type:"text",placeholder:"关键词，逗号分隔。"},domProps:{value:t.form.keywords},on:{input:function(e){e.target.composing||t.$set(t.form,"keywords",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"option-item flex-v-center"},[i("span",{staticClass:"flex-item"},[t._v("©原创声明")]),t._v(" "),i("switcher",{attrs:{mode:"Number"},model:{value:t.form.isOriginal,callback:function(e){t.$set(t.form,"isOriginal",e)},expression:"form.isOriginal"}})],1),t._v(" "),t.form.isOriginal?t._e():i("div",{staticClass:"option-item flex"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.originalFrom,expression:"form.originalFrom"}],staticClass:"flex-item",attrs:{type:"text",placeholder:"来源名称"},domProps:{value:t.form.originalFrom},on:{input:function(e){e.target.composing||t.$set(t.form,"originalFrom",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.originalUrl,expression:"form.originalUrl"}],staticClass:"flex-item",attrs:{type:"text",placeholder:"来源URL"},domProps:{value:t.form.originalUrl},on:{input:function(e){e.target.composing||t.$set(t.form,"originalUrl",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"option-item",staticStyle:{display:"flex"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.author,expression:"form.author"}],staticStyle:{width:"calc(100% - 70px)"},attrs:{type:"text",placeholder:"作者，逗号分隔"},domProps:{value:t.form.author},on:{input:function(e){e.target.composing||t.$set(t.form,"author",e.target.value)}}}),t._v(" "),i("div",{staticClass:"relative",staticStyle:{padding:"0 4px",width:"70px"}},[i("p",{staticStyle:{cursor:"pointer","text-align":"right",margin:"0"},on:{click:function(e){t.scaleshow=!0}}},[t._v("\n            选择预设\n          ")]),t._v(" "),t.scaleshow?i("bubble",{staticStyle:{left:"-80px"},on:{close:function(e){t.scaleshow=!1}}},[i("ul",{staticClass:"f-14 c-5",staticStyle:{padding:"4px 0",width:"150px","text-align":"center","line-height":"24px"}},t._l(t.$store.state.account.authorList,function(e,n){return i("li",{staticClass:"a flex-v-center listhover",on:{click:function(i){t.form.author=e,t.scaleshow=!1}}},[i("span",{staticClass:"flex-item"},[t._v(t._s(e))])])}))]):t._e()],1)]),t._v(" "),void 0!==t.form.createDate?i("div",{staticClass:"option-item flex-v-center"},[i("div",{staticClass:"flex-item"},[t._v("创建时间")]),t._v(" "),i("div",{staticClass:"relative flex-v-center a"},[t.form.createDate?t._e():i("span",{staticClass:"flex-v-center",staticStyle:{position:"absolute",right:"0"}},[i("span",[t._v("设置")]),t._v(" "),i("i",{staticClass:"icon f-18 c-a"},[t._v("keyboard_arrow_down")])]),t._v(" "),i("vue-datepicker-local",{attrs:{"show-buttons":"",clearable:!1,format:"YYYY-MM-DD HH:mm:ss"},model:{value:t.form.createDate,callback:function(e){t.$set(t.form,"createDate",e)},expression:"form.createDate"}})],1)]):t._e(),t._v(" "),i("div",{staticClass:"option-item flex-v-center"},[i("span",[t._v("初始阅读量")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualPv,expression:"form.virtualPv"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualPv},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualPv",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"option-item flex-v-center"},[i("span",[t._v("初始分享量")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualShare,expression:"form.virtualShare"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualShare},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualShare",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"option-item flex-v-center"},[i("span",[t._v("初始点赞量")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.virtualDigg,expression:"form.virtualDigg"}],staticClass:"flex-item t-right",attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.virtualDigg},on:{input:function(e){e.target.composing||t.$set(t.form,"virtualDigg",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"option-item"},[i("div",{staticClass:"flex-v-center"},[i("span",{staticClass:"flex-item"},[t._v("开启评论")]),t._v(" "),i("switcher",{attrs:{mode:"Number"},model:{value:t.form.isOpenComment,callback:function(e){t.$set(t.form,"isOpenComment",e)},expression:"form.isOpenComment"}})],1),t._v(" "),t.form.isOpenComment?i("app-article-add-comment",{model:{value:t.form.virtualComment,callback:function(e){t.$set(t.form,"virtualComment",e)},expression:"form.virtualComment"}}):t._e()],1),t._v(" "),i("app-article-add-relates",{attrs:{single:"",channels:t.ui.channels,title:"相关图集",icon:"collections",url:"/cri-cms-platform/ecommerce/associate/gallery.monitor"},model:{value:t.form.galleryId,callback:function(e){t.$set(t.form,"galleryId",e)},expression:"form.galleryId"}},[i("template",{slot:"afterTitle"},[i("span",{staticClass:"flex-item"}),t._v(" "),i("i",{staticClass:"add-gallery-setting-btn icon c-8",on:{click:function(e){e.stopPropagation(),t.ui.gallerySettingShow=!0}}},[t._v("settings")])]),t._v(" "),t.ui.gallerySettingShow?i("layer",{attrs:{title:"图集设置",width:"800px","mask-click":""},on:{close:function(e){t.ui.gallerySettingShow=!1}}},[i("div",{staticClass:"layer-text add-gallery-setting"},[i("ul",[i("li",[i("div",{staticClass:"flex-v-center"},[t._v("组图最大宽度 "),i("span",{staticClass:"flex-item"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gallerySettingMaxWidth,expression:"form.gallerySettingMaxWidth"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.gallerySettingMaxWidth},on:{input:function(e){e.target.composing||t.$set(t.form,"gallerySettingMaxWidth",e.target.value)}}})])]),t._v(" "),i("li",[i("div",{staticClass:"flex-v-center"},[t._v("组图最小高度 "),i("span",{staticClass:"flex-item"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gallerySettingMinHeight,expression:"form.gallerySettingMinHeight"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.gallerySettingMinHeight},on:{input:function(e){e.target.composing||t.$set(t.form,"gallerySettingMinHeight",e.target.value)}}})])]),t._v(" "),i("li",[i("div",{staticClass:"flex-v-center"},[t._v("缩略图宽度 "),i("span",{staticClass:"flex-item"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gallerySettingThumbWidth,expression:"form.gallerySettingThumbWidth"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.gallerySettingThumbWidth},on:{input:function(e){e.target.composing||t.$set(t.form,"gallerySettingThumbWidth",e.target.value)}}})])]),t._v(" "),i("li",[i("div",{staticClass:"flex-v-center"},[t._v("缩略图高度 "),i("span",{staticClass:"flex-item"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.gallerySettingThumbHeight,expression:"form.gallerySettingThumbHeight"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:t.form.gallerySettingThumbHeight},on:{input:function(e){e.target.composing||t.$set(t.form,"gallerySettingThumbHeight",e.target.value)}}})])]),t._v(" "),i("li",[i("div",{staticClass:"flex-v-center"},[t._v("显示位置 "),i("span",{staticClass:"flex-item"}),i("span",{staticClass:"a",on:{click:function(e){t.ui.gallerySettingDisplayPositionShow=!0}}},[t._v(t._s(t._f("gallerySettingDisplayPosition")(t.form.gallerySettingDisplayPosition))),i("i",{staticClass:"icon"},[t._v("keyboard_arrow_right")])])])])])]),t._v(" "),t.ui.gallerySettingDisplayPositionShow?i("select-card",{attrs:{value:t.form.gallerySettingDisplayPosition,title:"显示位置",width:"600px",maskClick:""},on:{close:function(e){t.ui.gallerySettingDisplayPositionShow=!1}}},[i("select-card-option",{attrs:{value:"1"},on:{click:function(e){t.form.gallerySettingDisplayPosition="1",t.ui.gallerySettingDisplayPositionShow=!1}}},[t._v("正文正上方")]),t._v(" "),i("select-card-option",{attrs:{value:"2"},on:{click:function(e){t.form.gallerySettingDisplayPosition="2",t.ui.gallerySettingDisplayPositionShow=!1}}},[t._v("正文正下方")])],1):t._e()],1):t._e()],2),t._v(" "),i("app-article-add-relates",{attrs:{channels:t.ui.channels,title:"相关阅读",icon:"book",url:"/cri-cms-platform/ecommerce/associate/ecommerce.monitor"},model:{value:t.form.relateIds,callback:function(e){t.$set(t.form,"relateIds",e)},expression:"form.relateIds"}}),t._v(" "),i("app-article-add-relates",{attrs:{single:"",channels:t.ui.channels,title:"相关专题",icon:"assignment",url:"/cri-cms-platform/ecommerce/associate/special.monitor"},model:{value:t.form.specialId,callback:function(e){t.$set(t.form,"specialId",e)},expression:"form.specialId"}})],1)])]],2)};st._withStripped=!0;var ct={render:st,staticRenderFns:[]},mt=ct;var dt=!1;var ut=i("VU/8")(lt,mt,!1,function(t){dt||i("GA04")},null,null);ut.options.__file="src/apps/ecommerce/add.vue";e.default=ut.exports},"1/id":function(t,e,i){var n=i("xySE");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("7c2f9cc9",n,!1,{})},"6OMj":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.add-attachment .item {\n  padding: 3px;\n  border-radius: 2px;\n  margin-bottom: 4px;\n  line-height: 1.2em;\n}\n.add-attachment .item:hover {\n  background: rgba(0, 0, 0, 0.08);\n}\n.add-attachment .item .flex-item {\n  margin: 0 6px;\n  overflow: hidden;\n}\n.add-attachment .item .file-title {\n  white-space: nowrap;\n  overflow: hidden;\n  width: 100%;\n  text-overflow: ellipsis;\n}\n.add-attachment .item .file-list {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n",""])},"8MKu":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.add-comment .title {\n  margin: 10px 0;\n  font-size: 12px;\n}\n.add-comment .content {\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n  margin-bottom: 10px;\n}\n.add-comment .content li {\n  padding-left: 20px;\n}\n.add-comment .content li div {\n  border-bottom: 1px solid #e1e1e1;\n  padding: 10px 0;\n}\n.add-comment .content li.add-comment-btn {\n  color: #008cff;\n  cursor: pointer;\n  -webkit-transition: background 0.2s;\n  transition: background 0.2s;\n}\n.add-comment .content li.add-comment-btn div {\n  border-bottom: 0;\n}\n.add-comment .content li.add-comment-btn:active {\n  background: #e1e1e1;\n}\n.add-comment .content li .delete {\n  color: #008cff;\n  cursor: pointer;\n  margin-right: 20px;\n}\n.add-comment .add-comment-setting .content li div {\n  border-bottom: 0;\n}\n.add-comment .add-comment-setting input {\n  width: 60px;\n  text-align: right;\n  padding-right: 20px;\n}\n.add-comment input {\n  border: none;\n  outline: none;\n  font-size: 14px;\n  color: #444;\n  background: transparent;\n  height: 34px;\n  width: 100%;\n}\n.add-comment input::-webkit-input-placeholder {\n  color: #999;\n}\n",""])},GA04:function(t,e,i){var n=i("iIWy");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("7402096e",n,!1,{})},Q2WO:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.app-article-add-thumb .layer-ctn {\n  max-width: 1000px;\n}\n.app-article-add-thumb .layer-ctn .af-left {\n  width: 280px;\n  background: #fff;\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n}\n.app-article-add-thumb .layer-ctn .nav-item {\n  height: 40px;\n  border-bottom: 1px solid #eee;\n  line-height: 1em;\n  padding: 0 5px 0 15px;\n}\n.app-article-add-thumb .layer-ctn .nav-item.nav-item-folder {\n  padding-left: 30px;\n}\n.app-article-add-thumb .layer-ctn .nav-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.app-article-add-thumb .layer-ctn .nav-item.on {\n  background: #318fff;\n  border-color: #fff;\n  color: #fff;\n}\n.app-article-add-thumb .layer-ctn .nav-item.on .icon-btn {\n  color: #fff;\n}\n.app-article-add-thumb .layer-ctn .nav-item input {\n  border: none;\n  height: 36px;\n  background: transparent;\n}\n.app-article-add-thumb .layer-ctn .nav-item input::-webkit-input-placeholder {\n  color: #aaa;\n}\n.app-article-add-thumb .layer-ctn .nav-item .nav-item-icon {\n  margin-right: 15px;\n}\n.app-article-add-thumb .layer-ctn .search-bar input {\n  width: 150px;\n  height: 100%;\n  border: none;\n  margin-left: 10px;\n}\n.app-article-add-thumb .layer-ctn .media-group {\n  padding: 13px 30px;\n}\n.app-article-add-thumb .layer-ctn .media-group ul {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.app-article-add-thumb .layer-ctn .media-group li {\n  margin: 0 6px 6px 0;\n}\n.app-article-add-thumb .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.app-article-add-thumb .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n",""])},XTLC:function(t,e,i){var n=i("8MKu");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("a496a3b8",n,!1,{})},iIWy:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.app-article-add {\n  line-height: 1em;\n  /*.bubble-list{padding: 10px 0;*/\n  /*li{padding: 5px 15px;}*/\n  /*li:hover{background: #eee;}*/\n  /*}*/\n}\n.app-article-add .art-options {\n  width: 320px;\n  padding: 20px 0;\n  background: #f8f8f8;\n  -webkit-transition: width 0.3s;\n  transition: width 0.3s;\n}\n.app-article-add .art-options textarea,\n.app-article-add .art-options input {\n  border: none;\n  width: 100%;\n  outline: none;\n  font-size: 14px;\n  color: #444;\n  resize: none;\n  background: transparent;\n}\n.app-article-add .art-options textarea::-webkit-input-placeholder,\n.app-article-add .art-options input::-webkit-input-placeholder {\n  color: #999;\n}\n.app-article-add .option-item {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 12px 0;\n}\n.app-article-add .add-photo-btn {\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 5px;\n  overflow: hidden;\n}\n.app-article-add .add-other-icon {\n  margin-right: 10px;\n}\n.app-article-add .active {\n  color: #018be6;\n}\n.app-article-add .datepicker::before {\n  content: none;\n}\n.app-article-add .add-gallery-setting-btn:hover {\n  color: #008eff;\n}\n.app-article-add .add-gallery-setting {\n  padding: 0;\n}\n.app-article-add .add-gallery-setting li {\n  padding-left: 20px;\n  font-size: 16px;\n}\n.app-article-add .add-gallery-setting li div {\n  border-bottom: 1px solid #e1e1e1;\n  padding: 12px 0;\n}\n.app-article-add .add-gallery-setting li:last-child div {\n  border-bottom: 0;\n}\n.app-article-add .add-gallery-setting li input {\n  border: none;\n  outline: none;\n  font-size: 14px;\n  color: #444;\n  background: transparent;\n  height: 34px;\n  width: 60px;\n  text-align: right;\n  padding-right: 20px;\n}\n.app-article-add .add-gallery-setting li input::-webkit-input-placeholder {\n  color: #999;\n}\n",""])},ksrT:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.add-relates .item {\n  padding: 7px 4px;\n}\n.add-relates .item span {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.add-relates .item i:hover {\n  color: #F44336;\n}\n.add-relates .layer-ctn {\n  max-width: 1000px;\n}\n.add-relates .title {\n  margin: 10px 0;\n  font-size: 12px;\n}\n.add-relates .content {\n  background: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n  margin-bottom: 10px;\n  max-height: 600px;\n  overflow-y: auto;\n}\n.add-relates .content li {\n  padding-left: 20px;\n  cursor: pointer;\n}\n.add-relates .content li div {\n  border-bottom: 1px solid #e1e1e1;\n  padding: 12px 0;\n}\n.add-relates .content li:hover {\n  background: #e1e1e1;\n}\n.add-relates .content li:last-child div {\n  border-bottom: 0;\n}\n.add-relates .content .none {\n  padding: 0;\n  cursor: default;\n}\n.add-relates .content .none:hover {\n  background: none;\n}\n",""])},pULW:function(t,e,i){var n=i("6OMj");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("fdd37916",n,!1,{})},s0qQ:function(t,e,i){var n=i("ksrT");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("5c2c6bae",n,!1,{})},vwwZ:function(t,e,i){var n=i("Q2WO");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("7a53d68c",n,!1,{})},xySE:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.ecommerce-editor {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 10px;\n}\n.ecommerce-editor .title {\n  font-size: 30px;\n  font-weight: bold;\n  border: none;\n  width: 100%;\n  background: transparent;\n  padding: 20px 15px;\n  color: #555;\n}\n.ecommerce-editor .title::-webkit-input-placeholder {\n  color: #aaa;\n}\n.ecommerce-editor .urlbox {\n  border-top: 1px solid #ddd;\n  padding: 10px 0;\n}\n.ecommerce-editor .urlinput {\n  height: 30px;\n  font-size: 20px;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  border: 0;\n  outline: none;\n  padding: 0 20px;\n}\n.ecommerce-editor .title-colorpicker-btn {\n  width: 25px;\n  height: 25px;\n  border: 1px solid transparent;\n  margin: 3px;\n}\n.ecommerce-editor .title-colorpicker-btn:hover {\n  border: 1px solid #000000;\n}\n.ecommerce-editor .title-color-list {\n  width: 192px;\n  padding: 10px;\n}\n.ecommerce-editor .ql-toolbar.ql-snow,\n.ecommerce-editor .ql-container.ql-snow {\n  border: none;\n}\n.ecommerce-editor .ql-toolbar.ql-snow {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  border-top: 1px solid #ddd;\n  background: #fff;\n  z-index: 10;\n}\n.ecommerce-editor .ql-editor {\n  font-size: 14px;\n  color: #555;\n  min-height: 200px;\n}\n.ecommerce-editor .ql-formats svg {\n  vertical-align: top;\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\n  content: '\\4E00\\7EA7\\6807\\9898';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\n  content: '\\4E8C\\7EA7\\6807\\9898';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\n  content: '\\4E09\\7EA7\\6807\\9898';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\n  content: '\\56DB\\7EA7\\6807\\9898';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-label::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-header .ql-picker-item::before {\n  content: '\\6B63\\6587';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\n  content: '\\8D85\\5927';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\n  content: '\\5927\\53F7';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\n  content: '\\5C0F\\53F7';\n}\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-label::before,\n.ecommerce-editor .ql-snow .ql-picker.ql-size .ql-picker-item::before {\n  content: '\\6B63\\5E38';\n}\n.ecommerce-editor .ql-snow .ql-tooltip::before {\n  content: '\\94FE\\63A5\\5730\\5740';\n}\n.ecommerce-editor .ql-snow .ql-tooltip a.ql-action::after {\n  content: '\\4FEE\\6539';\n}\n.ecommerce-editor .ql-snow .ql-tooltip a.ql-remove::before {\n  content: '\\5220\\9664';\n}\n.ecommerce-editor .ql-tooltip {\n  border-radius: 6px;\n}\n.ecommerce-editor .layer-ctn {\n  max-width: 1000px;\n}\n.ecommerce-editor .layer-ctn .af-left {\n  width: 280px;\n  background: #fff;\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n}\n.ecommerce-editor .layer-ctn .nav-item {\n  height: 40px;\n  border-bottom: 1px solid #eee;\n  line-height: 1em;\n  padding: 0 5px 0 15px;\n}\n.ecommerce-editor .layer-ctn .nav-item.nav-item-folder {\n  padding-left: 30px;\n}\n.ecommerce-editor .layer-ctn .nav-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.ecommerce-editor .layer-ctn .nav-item.on {\n  background: #318fff;\n  border-color: #fff;\n  color: #fff;\n}\n.ecommerce-editor .layer-ctn .nav-item.on .icon-btn {\n  color: #fff;\n}\n.ecommerce-editor .layer-ctn .nav-item input {\n  border: none;\n  height: 36px;\n  background: transparent;\n}\n.ecommerce-editor .layer-ctn .nav-item input::-webkit-input-placeholder {\n  color: #aaa;\n}\n.ecommerce-editor .layer-ctn .nav-item .nav-item-icon {\n  margin-right: 15px;\n}\n.ecommerce-editor .layer-ctn .search-bar input {\n  width: 150px;\n  height: 100%;\n  border: none;\n  margin-left: 10px;\n}\n.ecommerce-editor .layer-ctn .media-group {\n  padding: 13px 30px;\n}\n.ecommerce-editor .layer-ctn .media-group ul {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.ecommerce-editor .layer-ctn .media-group li {\n  margin: 0 6px 6px 0;\n}\n.ecommerce-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.ecommerce-editor .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.ecommerce-editor .layer-ctn .bubble-item {\n  padding: 4px 15px;\n  white-space: nowrap;\n  cursor: pointer;\n}\n.ecommerce-editor .layer-ctn .bubble-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.ecommerce-editor .layer-ctn .datepicker:before {\n  content: none;\n}\n.ecommerce-editor .layer-ctn .datepicker input {\n  background: transparent;\n  border: none;\n  padding: 0 10px;\n}\n.ecommerce-editor .layer-ctn .datepicker-range {\n  min-width: 200px;\n}\n.ecommerce-editor .layer-ctn .datepicker-range .datepicker-popup {\n  right: 0;\n  width: 420px;\n}\n",""])}});