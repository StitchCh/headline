webpackJsonp([114],{A812:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-sites flex-col c-6"},[t._m(0),t._v(" "),i("div",{staticClass:"flex-item scroll-y bg-e relative"},[i("transition",{attrs:{name:"fade"}},[t.loading?i("div",{staticClass:"abs bg-e"},[i("loading",{staticStyle:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})],1):t._e()]),t._v(" "),i("div",{staticClass:"setting-card f-16 add-site-btn",on:{click:t.openNew}},[t._v("\n      添加新站点...\n    ")]),t._v(" "),i("div",{staticClass:"setting-card f-14"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(t.list,function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.url))]),t._v(" "),i("td",[t._v(t._s(e.identifyId))]),t._v(" "),i("td",[t._v(t._s(e.createUserId))]),t._v(" "),i("td",[t._v(t._s(e.createTime))]),t._v(" "),i("td",[i("icon-btn",{attrs:{small:""},on:{click:function(i){t.openEdit(e)}}},[t._v("edit")])],1)])}))])])],1),t._v(" "),t.newShow?i("layer",{attrs:{title:"添加新站点",width:"600px"}},[i("div",{staticClass:"layer-text"},[i("input-box",{attrs:{label:"站点名称"},model:{value:t.newForm.name,callback:function(e){t.$set(t.newForm,"name",e)},expression:"newForm.name"}}),t._v(" "),i("input-box",{attrs:{label:"站点URL"},model:{value:t.newForm.url,callback:function(e){t.$set(t.newForm,"url",e)},expression:"newForm.url"}}),t._v(" "),i("input-box",{attrs:{label:"站点编号"},model:{value:t.newForm.identifyId,callback:function(e){t.$set(t.newForm,"identifyId",e)},expression:"newForm.identifyId"}})],1),t._v(" "),i("div",{staticClass:"layer-btns"},[i("btn",{attrs:{flat:""},on:{click:function(e){t.newShow=!1}}},[t._v("取消")]),t._v(" "),i("btn",{attrs:{flat:"",color:"#008cff"},on:{click:t.submitNew}},[t._v("提交")])],1)]):t._e(),t._v(" "),t.editShow?i("layer",{attrs:{title:"修改站点",width:"600px"}},[i("div",{staticClass:"layer-text"},[i("input-box",{attrs:{label:"站点名称"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}}),t._v(" "),i("input-box",{attrs:{label:"站点URL"},model:{value:t.editForm.url,callback:function(e){t.$set(t.editForm,"url",e)},expression:"editForm.url"}}),t._v(" "),i("input-box",{attrs:{label:"站点值"},model:{value:t.editForm.identifyId,callback:function(e){t.$set(t.editForm,"identifyId",e)},expression:"editForm.identifyId"}})],1),t._v(" "),i("div",{staticClass:"layer-btns"},[i("btn",{attrs:{flat:""},on:{click:function(e){t.editShow=!1}}},[t._v("取消")]),t._v(" "),i("btn",{attrs:{flat:"",color:"#008cff"},on:{click:t.submitEdit}},[t._v("提交")])],1)]):t._e()],1)};n._withStripped=!0;var s={render:n,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"af-topbar"},[e("span",{staticClass:"f-18"},[this._v("站点")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("th",[t._v("站点名称")]),t._v(" "),i("th",[t._v("站点url")]),t._v(" "),i("th",[t._v("站点编号")]),t._v(" "),i("th",[t._v("创建人")]),t._v(" "),i("th",[t._v("创建时间")]),t._v(" "),i("th",{staticStyle:{width:"30px"}},[t._v("操作")])])}]},a=s;var o=!1;var r=i("VU/8")({name:"app-sites",data:function(){return{loading:!0,list:[],newShow:!1,editShow:!1,newForm:{name:"",url:"",identifyId:""},editForm:{id:"",name:"",url:"",identifyId:""}}},methods:{getList:function(){var t=this;this.loading=!0,this.$http.post("/cri-cms-platform/site/page.monitor").then(function(e){t.list=e,t.loading=!1}).catch(function(e){t.$toast(e.msg?e.msg:"发生错误")})},openNew:function(){for(var t in this.newForm)this.newForm[t]="";this.newShow=!0},openEdit:function(t){for(var e in this.editForm)this.editForm[e]=t[e];this.editShow=!0},submitNew:function(){var t=this;this.$http.post("/cri-cms-platform/site/save.monitor",this.newForm).then(function(e){t.getList(),t.newShow=!1}).catch(function(e){t.$toast(e.msg?e.msg:"发生错误")})},submitEdit:function(){var t=this;this.$http.post("/cri-cms-platform/site/update.monitor",this.editForm).then(function(e){t.getList(),t.editShow=!1}).catch(function(e){t.$toast(e.msg?e.msg:"发生错误")})}},created:function(){this.getList()}},a,!1,function(t){o||i("GiAE")},null,null);r.options.__file="src/apps/site/list/index.vue";e.default=r.exports},GiAE:function(t,e,i){var n=i("GqdP");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("32536d94",n,!1,{})},GqdP:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.app-sites {\n  background: #fafafa;\n}\n.app-sites .setting-card {\n  max-width: 1440px;\n  margin: 20px auto;\n  border-radius: 10px;\n  padding: 20px;\n  background: #fff;\n}\n.app-sites .setting-card th,\n.app-sites .setting-card td {\n  padding: 5px 10px;\n}\n.app-sites .setting-card tr {\n  border-top: 1px solid #e1e1e1;\n}\n.app-sites .setting-card tr:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.app-sites .add-site-btn {\n  color: #008cff;\n  padding: 14px 30px;\n  cursor: pointer;\n  -webkit-transition: background 0.2s;\n  transition: background 0.2s;\n}\n.app-sites .add-site-btn:active {\n  background: #e1e1e1;\n}\n",""])}});