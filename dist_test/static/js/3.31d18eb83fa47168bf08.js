webpackJsonp([3],{YfRc:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={name:"app-gallery-content",props:{id:String,channels:{type:Array,default:function(){return[]}},getUrl:{type:String,default:"/cri-cms-platform/gallery/get.monitor"}},data:function(){return{content:{},gallery:{},relateGallery:[],channelIds:"",thumbItem:{show:!1,url:""},loading:!1}},computed:{channelNames:function(){var t=this;return this.channelIds?this.channelIds.split(",").map(function(n){return t.getChannel(n)}):[]},column1:function(){return this.gallery.content?this.gallery.content.filter(function(t,n){return n%3==0}):[]},column2:function(){return this.gallery.content?this.gallery.content.filter(function(t,n){return n%3==1}):[]},column3:function(){return this.gallery.content?this.gallery.content.filter(function(t,n){return n%3==2}):[]}},methods:{getGallery:function(){var t=this;this.loading=!0,this.$http.post(this.getUrl,{id:this.id}).then(function(n){t.content=n.content||{},n.gallery&&(t.gallery=n.gallery),t.relateGallery=n.relateGallery||[],t.channelIds=n.channelIds||"",t.loading=!1}).catch(console.log)},getChannel:function(t){var n=this.channels.find(function(n){return n.id===t});return n?n.channelName:""}},created:function(){this.getGallery()},watch:{id:function(){this.getGallery()}}},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"flex-item flex-col"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?e("div",{staticClass:"flex-item flex-center"},[e("loading")],1):e("div",{staticClass:"flex-item scroll-y"},[e("div",{staticClass:"relative gallery-content c-6"},[t.content&&t.content.id?e("div",{staticClass:"ctn"},[e("h1",{staticClass:"b",style:{color:t.content.titleColor}},[t._v(t._s(t.content.title))]),t._v(" "),e("div",{staticClass:"f-14 c-a info flex-v-center"},[e("span",[t._v(t._s(t.content.createDate))]),t._v(" "),e("span",[t._v("作者："+t._s(t.content.author))]),t._v(" "),e("span",[t._v("创建者："+t._s(t.content.createUser))]),t._v(" "),e("span",{staticClass:"flex-item"}),t._v(" "),t._l(t.content.thumb,function(n,i){return t.content&&t.content.thumb?e("img",{key:i,staticStyle:{"margin-left":"5px",height:"50px",cursor:"pointer"},attrs:{src:n.url},on:{click:function(e){t.thumbItem.url=n.url,t.thumbItem.show=!0}}}):t._e()})],2),t._v(" "),e("p",{staticClass:"abstarcts"},[e("strong",[t._v("[摘要]")]),t._v(t._s(t.content.abstarcts))]),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-item column"},t._l(t.column1,function(n,i){return e("div",{key:i,staticClass:"gallery-item relative"},[e("div",{staticClass:"bg-e"},[e("img",{attrs:{src:n.url}})]),t._v(" "),n.description?e("div",{staticClass:"description"},[t._v(t._s(n.description))]):t._e()])})),t._v(" "),e("div",{staticClass:"flex-item column"},t._l(t.column2,function(n,i){return e("div",{key:i,staticClass:"gallery-item relative"},[e("div",{staticClass:"bg-e"},[e("img",{attrs:{src:n.url}})]),t._v(" "),n.description?e("div",{staticClass:"description"},[t._v(t._s(n.description))]):t._e()])})),t._v(" "),e("div",{staticClass:"flex-item column"},t._l(t.column3,function(n,i){return e("div",{key:i,staticClass:"gallery-item relative"},[e("div",{staticClass:"bg-e"},[e("img",{attrs:{src:n.url}})]),t._v(" "),n.description?e("div",{staticClass:"description"},[t._v(t._s(n.description))]):t._e()])}))]),t._v(" "),t.relateGallery.length?e("div",{staticClass:"relate f-14"},[e("div",{staticClass:"b c-8",staticStyle:{"margin-bottom":"10px"}},[t._v("相关图集：")]),t._v(" "),e("ul",t._l(t.relateGallery,function(n,i){return e("li",{key:i},[e("a",{staticClass:"a c-8",on:{click:function(e){t.toLink(n)}}},[t._v(t._s(n.title))])])}))]):t._e()]):e("div",{staticClass:"abs flex-center",staticStyle:{height:"400px"}},[e("no-data")],1)])])]),t._v(" "),e("div",{staticClass:"af-bottombar c-6 f-14"},[t.channelIds?e("div",{staticStyle:{padding:"0 15px"}},t._l(t.channelNames,function(n,i){return e("span",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"频道："+n,expression:"'频道：' + channel",arg:"top"}],key:i},[t._v(t._s(0!==i?"，":"")+t._s(n))])})):t._e(),t._v(" "),t.content.keywords?e("div",{staticStyle:{padding:"0 15px"}},t._l(t.content.keywords.split(","),function(n,i){return e("span",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"关键词："+n,expression:"'关键词：' + keyword",arg:"top"}],key:i},[t._v(t._s(0!==i?"，":"")+t._s(n))])})):t._e(),t._v(" "),t.content.originalFrom?e("div",{staticStyle:{padding:"0 15px"}},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"来源："+t.content.originalFrom,expression:"'来源：' + content.originalFrom",arg:"top"}]},[t._v(t._s(t.content.originalFrom))])]):t._e(),t._v(" "),t.content.author?e("div",{staticStyle:{padding:"0 15px"}},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"作者："+t.content.author,expression:"'作者：' + content.author",arg:"top"}]},[t._v(t._s(t.content.author))])]):t._e(),t._v(" "),e("div",{staticClass:"flex-item"}),t._v(" "),e("div",[e("i",{staticClass:"icon f-14 tg-icon c-a",class:{active:~~t.content.isRecommnd}},[t._v("thumb_up")])])]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.thumbItem.show?e("div",{staticClass:"thumb-cover scroll-y",on:{click:function(n){t.thumbItem.show=!1}}},[e("div",{staticClass:"flex-center",staticStyle:{"min-height":"100%"}},[e("img",{attrs:{src:t.thumbItem.url},on:{click:function(t){t.stopPropagation()}}})])]):t._e()])],1)};a._withStripped=!0;var l={render:a,staticRenderFns:[]},r=l;var s=!1;var o=e("VU/8")(i,r,!1,function(t){s||e("i29r")},null,null);o.options.__file="src/apps/gallery/list/content.vue";n.default=o.exports},dYKt:function(t,n,e){(t.exports=e("FZ+f")(!1)).push([t.i,"\n.gallery-content .ctn {\n  max-width: 900px;\n  margin: 0 auto;\n  padding: 30px;\n}\n.gallery-content h1 {\n  line-height: 1.3em;\n  font-size: 26px;\n}\n.gallery-content .info {\n  height: 50px;\n}\n.gallery-content .info span {\n  margin-right: 15px;\n}\n.gallery-content .abstarcts {\n  padding: 10px 20px;\n  font-size: 14px;\n  background: #f3f3f3;\n  border-radius: 8px;\n}\n.gallery-content .relate {\n  margin-top: 20px;\n  border: 1px solid #ddd;\n  padding: 10px 20px;\n  border-radius: 8px;\n}\n.gallery-content .relate li {\n  padding: 2px 0;\n}\n.gallery-content .relate a {\n  text-decoration: none;\n}\n.gallery-content .relate a:hover {\n  text-decoration: underline;\n}\n.gallery-content .column + .column {\n  margin-left: 12px;\n}\n.gallery-content .gallery-item {\n  margin-bottom: 12px;\n  width: 100%;\n  border: 1px solid #eee;\n}\n.gallery-content .gallery-item img {\n  width: 100%;\n}\n.gallery-content .gallery-item .description {\n  padding: 8px;\n  font-size: 14px;\n}\n.thumb-cover {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 99;\n  text-align: center;\n}\n.thumb-cover img {\n  max-width: 900px;\n  margin: 50px auto;\n}\n",""])},i29r:function(t,n,e){var i=e("dYKt");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("cf35008e",i,!1,{})}});