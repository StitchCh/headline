webpackJsonp([109],{"OYT+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("2get"),s=i("2Dnl"),n={name:"app-article-list",components:{Account:o.a,AfCenter:s.a},props:["id"],data:function(){return{ui:{channels:[],qrcodeShow:!1},list:[]}},methods:{getChannels:function(){var t=this;this.$http.post("/cri-cms-platform/ecommerce/getChannels.monitor").then(function(e){t.ui.channels=e||[]}).catch(function(e){t.$toast(e.msg)})},onItemClick:function(t,e){sessionStorage.setItem("viewScroll",85*e-100),this.$router.replace({path:"/ecommerce/list/"+t.id,query:this.$route.query})},copyArticle:function(){var t=this;this.$confirm({text:"您确定要复制该文章并重新发布吗？",no:function(){},yes:function(){t.$http.post("/cri-cms-platform/ecommerce/copy.monitor",{contentId:t.id}).then(function(e){t.$router.push({path:"/ecommerceEdit/ecommerce/"+e.id})})}})},deleteArticle:function(){var t=this;this.$confirm({title:"您确定要删除此文章吗？",text:"您可以从回收站中恢复。",btns:["取消","删除"],color:"red",yes:function(){t.$http.post("/cri-cms-platform/ecommerce/delete.monitor",{id:t.$route.params.id}).then(function(e){t.$refs.afCenter.getList(),t.$router.replace({path:"/ecommerce/list",query:t.$route.query})})}})}},created:function(){this.getChannels()}},c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex flex-item article-list"},[o("af-center",{ref:"afCenter",attrs:{status:t.$route.query.status,url:"/cri-cms-platform/ecommerce/list.monitor"},on:{add:function(e){t.openWindow("/ecommerceAdd")},getListEnd:t.onItemClick},scopedSlots:t._u([{key:"default",fn:function(e){return o("div",{staticClass:"list-item a",class:{on:e.item.id==t.$route.params.id},on:{click:function(i){t.onItemClick(e.item,e.index)}}},[o("div",{staticClass:"list-title flex-v-center"},[~~e.item.isRecommnd?o("i",{staticClass:"icon f-16 blue"},[t._v("thumb_up")]):t._e(),t._v(" "),~~e.item.isOriginal?o("i",{staticClass:"icon f-16 green"},[t._v("copyright")]):t._e(),t._v(" "),o("span",{staticClass:"flex-item c-6 f-14 b"},[t._v(t._s(e.item.title))])]),t._v(" "),o("div",{staticClass:"list-info f-12 c-8 flex-v-center"},[o("span",[t._v(t._s(e.item.createDate))]),t._v(" "),o("span",[t._v(t._s(e.item.createUser))])]),t._v(" "),o("div",{staticClass:"list-info f-12 c-8 flex-v-center"},[o("span",{staticClass:"list-info-num"},[o("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"阅读",expression:"'阅读'",arg:"top"}]},[t._v(t._s(e.item.pv))]),t._v("/"),o("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"评论",expression:"'评论'",arg:"top"}]},[t._v(t._s(e.item.commentCount))]),t._v("/"),o("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"分享",expression:"'分享'",arg:"top"}]},[t._v(t._s(e.item.shareCount))]),t._v("/"),o("i",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"点赞",expression:"'点赞'",arg:"top"}]},[t._v(t._s(e.item.diggCount))])]),t._v(" "),o("span",{staticClass:"flex-item"})])])}}])}),t._v(" "),o("div",{staticClass:"flex-item flex-col"},[o("div",{staticClass:"af-topbar flex-v-center"},[t.$route.params.id?o("div",{staticClass:"content-tool flex-v-center"},[o("div",{staticClass:"tool-item"},[o("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"编辑",expression:"'编辑'",arg:"bottom"}],attrs:{small:""},on:{click:function(e){t.openWindow("/ecommerceEdit/ecommerce/"+t.id)}}},[t._v("edit")])],1),t._v(" "),o("div",{staticClass:"tool-item"},[o("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"删除",expression:"'删除'",arg:"bottom"}],attrs:{small:""},on:{click:t.deleteArticle}},[t._v("delete")])],1),t._v(" "),o("div",{staticClass:"tool-item relative"},[o("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"二维码",expression:"'二维码'",arg:"bottom"}],attrs:{small:""},on:{click:function(e){t.ui.qrcodeShow=!t.ui.qrcodeShow}}},[o("img",{staticClass:"qr-icon",attrs:{src:i("tnW0")}})]),t._v(" "),t.ui.qrcodeShow?o("bubble",{on:{close:function(e){t.ui.qrcodeShow=!1}}},[o("div",{staticStyle:{width:"200px",height:"200px"}},[o("img",{attrs:{src:t.qrcode(t.id)}})])]):t._e()],1),t._v(" "),o("div",{staticClass:"tool-item"},[o("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:bottom",value:"复制并重新发布",expression:"'复制并重新发布'",arg:"bottom"}],attrs:{small:""},on:{click:t.copyArticle}},[t._v("file_copy")])],1)]):t._e(),t._v(" "),o("div",{staticClass:"flex-item"}),t._v(" "),o("account")],1),t._v(" "),o("div",{staticClass:"flex-item flex-col"},[t.id?o("div",{staticClass:"flex-center",staticStyle:{height:"60px"}},[o("div",{staticClass:"tab"},[o("div",{staticClass:"tab-item",class:{on:"ArticleContent"===t.$route.name},on:{click:function(e){t.$router.replace({path:"/ecommerce/list/"+t.id,query:t.$route.query})}}},[t._v("内容")]),t._v(" "),o("div",{staticClass:"tab-item",class:{on:"ArticleStatistics"===t.$route.name},on:{click:function(e){t.$router.replace({path:"/ecommerce/list/"+t.id+"/statistics",query:t.$route.query})}}},[t._v("统计")]),t._v(" "),o("div",{staticClass:"tab-item",class:{on:"ArticleHistory"===t.$route.name},on:{click:function(e){t.$router.replace({path:"/ecommerce/list/"+t.id+"/history",query:t.$route.query})}}},[t._v("历史")])])]):t._e(),t._v(" "),o("router-view",{attrs:{channels:t.ui.channels}})],1)])],1)};c._withStripped=!0;var a={render:c,staticRenderFns:[]},r=a;var l=!1;var m=i("VU/8")(n,r,!1,function(t){l||i("RUi4")},null,null);m.options.__file="src/apps/ecommerce/list/index.vue";e.default=m.exports},RUi4:function(t,e,i){var o=i("cbxH");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i("rjj0")("305a7b82",o,!1,{})},cbxH:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.article-list .list-item.on {\n  background: #73a9ea;\n  color: #fff;\n}\n.article-list .list-item.on .list-title span {\n  color: #fff;\n}\n.article-list .list-item.on .list-info {\n  color: rgba(255, 255, 255, 0.8);\n}\n.article-list .list-item.on .tg-icon {\n  color: rgba(255, 255, 255, 0.8);\n}\n.article-list .active {\n  color: #018be6;\n}\n.article-list th,\n.article-list td {\n  padding: 5px 10px;\n  font-size: 14px;\n}\n.article-list tr {\n  border-top: 1px solid #e1e1e1;\n}\n.article-list tr:hover {\n  background: rgba(0, 0, 0, 0.07);\n}\n",""])}});