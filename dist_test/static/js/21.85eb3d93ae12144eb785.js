webpackJsonp([21],{"0wKt":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.app-article-add-thumb .layer-ctn {\n  max-width: 1000px;\n}\n.app-article-add-thumb .layer-ctn .af-left {\n  width: 280px;\n  background: #fff;\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n}\n.app-article-add-thumb .layer-ctn .nav-item {\n  height: 40px;\n  border-bottom: 1px solid #eee;\n  line-height: 1em;\n  padding: 0 5px 0 15px;\n}\n.app-article-add-thumb .layer-ctn .nav-item.nav-item-folder {\n  padding-left: 30px;\n}\n.app-article-add-thumb .layer-ctn .nav-item:hover {\n  background: rgba(0, 0, 0, 0.05);\n}\n.app-article-add-thumb .layer-ctn .nav-item.on {\n  background: #318fff;\n  border-color: #fff;\n  color: #fff;\n}\n.app-article-add-thumb .layer-ctn .nav-item.on .icon-btn {\n  color: #fff;\n}\n.app-article-add-thumb .layer-ctn .nav-item input {\n  border: none;\n  height: 36px;\n  background: transparent;\n}\n.app-article-add-thumb .layer-ctn .nav-item input::-webkit-input-placeholder {\n  color: #aaa;\n}\n.app-article-add-thumb .layer-ctn .nav-item .nav-item-icon {\n  margin-right: 15px;\n}\n.app-article-add-thumb .layer-ctn .search-bar input {\n  width: 150px;\n  height: 100%;\n  border: none;\n  margin-left: 10px;\n}\n.app-article-add-thumb .layer-ctn .media-group {\n  padding: 13px 30px;\n}\n.app-article-add-thumb .layer-ctn .media-group ul {\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.app-article-add-thumb .layer-ctn .media-group li {\n  margin: 0 6px 6px 0;\n}\n.app-article-add-thumb .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n.app-article-add-thumb .layer-ctn .media-group-title {\n  padding: 15px 0;\n}\n",""])},"4LbR":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.fade-enter-active[data-v-859b5692], .fade-leave-active[data-v-859b5692] {\n  -webkit-transition: opacity .5s;\n  transition: opacity .5s;\n}\n.fade-enter[data-v-859b5692], .fade-leave-to[data-v-859b5692] /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n.slebox[data-v-859b5692]{\n  position: absolute;top: 40px;width: 300px;right: 0;border: 1px solid #ddd;background: #fff;z-index: 10;\n  padding: 10px;\n  border-radius: 6px;\n}\n.slebox input[data-v-859b5692]{\n  width: 100%;\n  width: 100%;border: 1px solid #ddd;-webkit-box-sizing: border-box;box-sizing: border-box;\n}\n.slebox .sleboxerr[data-v-859b5692]{\n  border-color: #f00;\n}\n.closebox[data-v-859b5692]{\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 5;\n}\n",""])},"7CmS":function(e,t,n){var a=n("0wKt");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("52435b94",a,!1,{})},KCKN:function(e,t,n){"use strict";(function(e){n.d(t,"h",function(){return a}),n.d(t,"n",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"f",function(){return l}),n.d(t,"k",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"m",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return f}),n.d(t,"j",function(){return v}),n.d(t,"d",function(){return m});function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){return 1===arguments.length&&(t=e,e=0),Math.floor(Math.random()*(t-e+1)+e)}function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)n+=a[i(a.length-1)];return t+n}function o(e,t){for(var n,a=0;(n=e.indexOf(t))>-1;)e.splice(n,1),a++;return a}function l(e){var t=e.getBoundingClientRect(),n=function(){if("undefined"!=typeof pageYOffset)return{top:pageYOffset,left:pageXOffset};var e=document.body,t=document.documentElement;return{top:(t=t.clientHeight?t:e).scrollTop,left:t.scrollLeft}}();return{x:t.left+n.left,y:t.top+n.top}}function s(e,t){var n=e.offsetParent;(!n||n===document.body&&"static"===getComputedStyle(document.body).position)&&(n=document.body.parentElement);for(var a={x:e.offsetLeft,y:e.offsetTop},i=e;(i=i.parentElement)!==n&&i;)a.x-=i.scrollLeft,a.y-=i.scrollTop;return a}function c(e,t){e["original_".concat(t)]=e.getAttribute(t)}function d(e,t){var n="original_".concat(t);e.setAttribute(t,e[n])}function h(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function u(e,t){h(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function p(e){var t=e.style.display;e.style.display="block";var n={width:e.offsetWidth,height:e.offsetHeight};return e.style.display=t,n}function g(e,t,n){var a=l(n);return a.x<=e&&a.x+n.offsetWidth>=e&&a.y<=t&&a.y+n.offsetHeight>=t}function f(e,t,n){for(var a=arguments.length,i=new Array(a>3?a-3:0),r=3;r<a;r++)i[r-3]=arguments[r];e.addEventListener?e.addEventListener.apply(e,[t,n].concat(i)):e.attachEvent&&e.attachEvent.apply(e,["on".concat(t),n].concat(i))}function v(e,t,n){for(var a=arguments.length,i=new Array(a>3?a-3:0),r=3;r<a;r++)i[r-3]=arguments[r];e.removeEventListener?e.removeEventListener.apply(e,[t,n].concat(i)):e.detachEvent&&e.detachEvent.apply(e,["on".concat(t),n].concat(i))}function m(e,t,n,a,i){var r,o,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;null==n&&(n=0,a=e.length-1);for(var s,c=0;n>=0&&n<=a;){if(c>=l)throw Error("binarySearch: loop times is over ".concat(l,", you can increase the limit."));if((s=t(o=e[r=Math.floor((a-n)/2+n)],c))>0)a=r-1;else{if(!(s<0))return{index:r,value:o,count:c+1,hit:!0};n=r+1}c++}return i?{index:r,value:o,count:c+1,hit:!1,bigger:s>0}:null}}).call(t,n("DuR2"))},LjlW:function(e,t,n){var a=n("XXSK");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("93a460a0",a,!1,{})},RWYL:function(e,t,n){"use strict";var a=n("KCKN"),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * tree-helper v1.0.5
 * phphe <phphe@outlook.com> (https://github.com/phphe)
 * https://github.com/phphe/tree-helper.git
 * Released under the MIT License.
 */function r(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments[3],r=(Object(a.h)(e)?e:[e]).map(function(e,t){return{item:e,index:t}});n&&r.reverse();for(var o=function(){var e=r.shift(),a=e.item,i=e.index,o=e.parent,l=t(a,i,o);if(!1===l)return{v:void 0};if("skip children"===l)return"continue";if("skip siblings"===l&&(r=r.filter(function(e){return e.parent!==o})),a.children){var s,c=a.children;n&&(c=c.slice()).reverse();var d=c.map(function(e,t){return{item:e,index:t,parent:a}});(s=r).push.apply(s,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d))}};r.length;){var l=o();switch(l){case"continue":continue;default:if("object"===(void 0===l?"undefined":i(l)))return l.v}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";e[i]&&Object(a.b)(e[i][n],e),e[i]=t}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var r=t[i][n],l=r.indexOf(t);r[l+1]!==e&&(e[i]===t[i]?(Object(a.b)(r,e),l=r.indexOf(t)):o(e,t[i]),r.splice(l+1,0,e))}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e===t)throw"can't append to self";var a=t[n];a[a.length-1]!==e&&(o(e,t),a.push(e))}
/*!
 * drag-event-service v0.0.6
 * (c) 2018-present phphe <phphe@outlook.com> (https://github.com/phphe)
 * Released under the MIT License.
 */var c={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},d={isTouch:function(e){return e.type&&e.type.startsWith("touch")},_getStore:function(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on:function(e,t,n){var i,r,o=this,l=function(e){var a;if(o.isTouch(e))a={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};else if(a={x:e.pageX,y:e.pageY},"start"===t&&1!==e.which)return;return n.call(this,e,a)};this._getStore(e).push({handler:n,wrapper:l});for(var s=arguments.length,d=new Array(s>3?s-3:0),h=3;h<s;h++)d[h-3]=arguments[h];(i=a.l).call.apply(i,[null,e,c[t][0],l].concat(d)),(r=a.l).call.apply(r,[null,e,c[t][1],l].concat(d))},off:function(e,t,n){for(var i=this._getStore(e),r=arguments.length,o=new Array(r>3?r-3:0),l=3;l<r;l++)o[l-3]=arguments[l];for(var s=i.length-1;s>=0;s--){var d,h,u=i[s],p=u.handler,g=u.wrapper;if(n===p)(d=a.j).call.apply(d,[null,e,c[t][0],g].concat(o)),(h=a.j).call.apply(h,[null,e,c[t][1],g].concat(o)),i.splice(s,1)}}};var h=
/*!
 * draggable-helper v1.0.17
 * (c) 2018-present phphe <phphe@outlook.com> (https://github.com/phphe)
 * Released under the MIT License.
 */
function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==t.minTranslate&&(t.minTranslate=10);var n={movedCount:0},i=function(){d.off(e,"end",e._draggbleEventHandler),Object(a.j)(e,"selectstart",s),delete e._draggbleEventHandler};return e._draggbleEventHandler&&i(),e._draggbleEventHandler=function(e,t){n.mouse={x:t.x,y:t.y},n.initialMouse=Object.assign({},n.mouse),d.on(document,"move",o,{passive:!1}),d.on(window,"end",l)},d.on(e,"start",e._draggbleEventHandler),Object(a.l)(e,"selectstart",s),i;function r(i){var r=function(){var i=t.getEl?t.getEl(e,t):e,r=i;return t.clone&&(n.triggerEl=i,r=i.cloneNode(!0),i.parentElement.appendChild(r)),{position:Object(a.k)(r,Object(a.f)(i)),el:r}}(),o=r.el,l=r.position;if(n.el=o,n.initialPosition=Object.assign({},l),!1===(t.drag&&t.drag(i,t,n)))return!1;var s=Object(a.e)(o),c=Object.assign({width:"".concat(s.width,"px"),height:"".concat(s.height,"px"),zIndex:9999,opacity:.6,position:"absolute",left:l.x+"px",top:l.y+"px"},t.style||t.getStyle&&t.getStyle(t)||{});for(var d in Object(a.c)(o,"style"),c)o.style[d]=c[d];Object(a.c)(o,"class"),Object(a.a)(o,t.draggingClass)}function o(e,a){n.mouse={x:a.x,y:a.y};var i=n.move={x:n.mouse.x-n.initialMouse.x,y:n.mouse.y-n.initialMouse.y};if(0===n.movedCount&&t.minTranslate){var o=Math.pow(n.move.x,2),l=Math.pow(n.move.y,2);if(Math.pow(o+l,.5)<t.minTranslate)return}var s=!0;if(0===n.movedCount&&!1===r(e)&&(s=!1),e.preventDefault(),s&&t.moving&&!1===t.moving(e,t,n)&&(s=!1),s){if(!n||!n.el)return;Object.assign(n.el.style,{left:n.initialPosition.x+i.x+"px",top:n.initialPosition.y+i.y+"px"}),n.movedCount++}}function l(e){if(d.off(document,"move",o),d.off(window,"end",l),n.movedCount>0){n.movedCount=0;var i=n.el;t.clone?i.parentElement.removeChild(i):(Object(a.m)(i,"style"),Object(a.m)(i,"class")),t.drop&&t.drop(e,t,n)}n={movedCount:0}}function s(e){e.preventDefault()}};n.d(t,"a",function(){return $});
/*!
 * vue-draggable-nested-tree v2.2.1
 * (c) 2018-present phphe <phphe@outlook.com>
 * Released under the MIT License.
 */
var u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-node",class:[e.data.active?e.store.activatedClass:"",e.data.open?e.store.openedClass:"",e.data.class],style:e.data.style,attrs:{id:e.data._id}},[e.isRoot?e._e():n("div",{staticClass:"tree-node-inner-back",class:[e.data.innerBackClass],style:[e.innerBackStyle,e.data.innerBackStyle]},[n("div",{staticClass:"tree-node-inner",class:[e.data.innerClass],style:[e.data.innerStyle]},[e._t("default",null,{data:e.data,store:e.store,vm:e.vm})],2)]),e.childrenVisible?n("div",{staticClass:"tree-node-children"},e._l(e.data.children,function(t){return n("TreeNode",{key:t._id,attrs:{data:t,store:e.store,level:e.childrenLevel},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:t.store,vm:t.vm})]}}])})})):e._e()])},staticRenderFns:[],name:"TreeNode",props:{data:{},store:{},level:{default:0}},data:function(){return{vm:this}},computed:{childrenLevel:function(){return this.level+1},isRoot:function(){return this.data.isRoot},childrenVisible:function(){var e=this.data;return this.isRoot||e.children&&e.children.length&&e.open},innerBackStyle:function(){var e={marginBottom:this.store.space+"px"};return!this.isRoot&&this.level>1&&(e.paddingLeft=(this.level-1)*this.store.indent+"px"),e}},watch:{data:{immediate:!0,handler:function(e){e&&(e._vm=this,e._treeNodePropertiesCompleted||e.isRoot||this.store.compeleteNode(e,this.$parent.data))}}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"he-tree tree"},[n("TreeNode",{attrs:{data:e.rootData,store:e.store},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,{data:t.data,store:e.store,vm:t.vm})]}}])})],1)},staticRenderFns:[],props:{data:{},idLength:{type:Number,default:5},indent:{type:Number,default:16},activatedClass:{default:"active"},openedClass:{default:"open"},space:{type:Number,default:10}},components:{TreeNode:u},data:function(){return{store:this,rootData:null}},watch:{data:{immediate:!0,handler:function(e,t){var n=this;e!==t&&(this.rootData=this.rootData||{isRoot:!0,_id:"tree_".concat(this._uid,"_node_root")},r(e,function(e,t,a){n.compeleteNode(e,a)}),this.rootData.children=e)}}},methods:{compeleteNode:function(e,t){var n={open:!0,children:[],active:!1,style:{},class:"",innerStyle:{},innerClass:"",innerBackStyle:{},innerBackClass:{}};for(var i in n)e.hasOwnProperty(i)||this.$set(e,i,n[i]);this.$set(e,"parent",t||this.rootData),e.hasOwnProperty("_id")||(e._id="tree_".concat(this._uid,"_node_").concat(Object(a.n)(this.idLength))),e._treeNodePropertiesCompleted=!0},pure:function(e,t,n){var a=this,i=Object.assign({},e);delete i._id,delete i.parent,delete i.children,delete i.open,delete i.active,delete i.style,delete i.class,delete i.innerStyle,delete i.innerClass,delete i.innerBackStyle,delete i.innerBackClass;for(var r=Object.keys(i),o=0;o<r.length;o++){var l=r[o];"_"===l[0]&&delete i[l]}return t&&e.children&&(i.children=e.children.slice(),i.children.forEach(function(e,n){i.children[n]=a.pure(e,t)})),n&&n(i,e)||i},getNodeById:function(e){var t;return r(this.rootData.children,function(n){if(n._id===e)return t=n,!1}),t},getActivated:function(){var e=[];return r(this.rootData.children,function(t){t.active&&e.push(t)}),e},getOpened:function(){var e=[];return r(this.rootData.children,function(t){t.open&&e.push(t)}),e},activeNode:function(e,t){this.activated;t&&this.getActivated().forEach(function(e){e.active=!1}),e.active=!0},toggleActive:function(e,t){e.active?e.active=!1:this.activeNode(e,t)},openNode:function(e,t){this.opened;t&&this.getOpened().forEach(function(e){e.open=!1}),e.open=!0},toggleOpen:function(e,t){e.open?e.open=!1:this.openNode(e,t)},getPureData:function(e){return this.pure(this.rootData,!0,e).children},deleteNode:function(e){return Object(a.b)(e.parent.children,e)}}};function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var f=function(){function e(){var t,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a={},(n="store")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}var t,n,a;return t=e,(n=[{key:"has",value:function(e){return this.store.hasOwnProperty(e)}},{key:"remember",value:function(e,t){return this.has(e)||(this.store[e]={value:t()}),this.store[e].value}},{key:"forget",value:function(e){e?this.has(e)&&delete this.store[e]:this.store={}}}])&&g(t.prototype,n),a&&g(t,a),e}();function v(e){return e||""===e}var m={nothing:function(e){},after:function(e){y(e.dplh,e.targetNode,e)},before:function(e){x(e.targetNode.parent)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parent";if(e!==t){var r=t[i][n],l=r.indexOf(t);r[l-1]!==e&&(e[i]===t[i]?(Object(a.b)(r,e),l=r.indexOf(t)):o(e,t[i]),r.splice(l,0,e))}}(e.dplh,e.targetNode):y(e.dplh,e.targetNode.parent,e)},append:function(e){x(e.targetNode)?(s(e.dplh,e.targetNode),e.targetNode.open=!0):y(e.dplh,e.targetNode,e)},prepend:function(e){x(e.targetNode)?(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";if(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e===t)throw"can't prepend to self";var a=t[n];a[0]!==e&&(o(e,t),a.splice(0,0,e))}(e.dplh,e.targetNode),e.targetNode.open=!0):y(e.dplh,e.targetNode,e)},"after target parent":function(e){y(e.dplh,e.targetNode.parent,e)},"append prev":function(e){x(e.targetPrev)?(s(e.dplh,e.targetPrev),e.targetPrev.open=!0):y(e.dplh,e.targetPrev,e)}};function y(e,t,n){if(!t)return!1;var a=function(e,t){var n=e;for(;n;){if(t(n))return n;n=n.parent}}(t,function(e){return e.parent&&x(e.parent)});return!!a&&(l(e,a),!0)}function b(e){var t;O.hasOwnProperty(e._id)||(t=e.hasOwnProperty("draggable")?e.draggable:!e.parent||b(e.parent),O[e._id]=t);return O[e._id]}function x(e){var t;I.hasOwnProperty(e._id)||(t=e.hasOwnProperty("droppable")?e.droppable:!e.parent||x(e.parent),I[e._id]=t);return I[e._id]}function _(e,t,n,a){var i=t.length;if(a)for(var r=i-1;r>=0;r--){var o=t[r];if(o!==e.node&&n(o,r))return o}else for(var l=0;l<i;l++){var s=t[l];if(s!==e.node&&n(s,l))return s}}for(var N,w={"targetNode existed":function(e){return e.targetNode},"targetNode is placeholder":function(e){return e.targetNode.isDragPlaceHolder},"targetNode at top":function(e){return e.targetAtTop},"targetNode at bottom":function(e){return e.targetAtBottom},"targetNode is the second child of root":function(e){return e.currentTreeRootSecondChildExcludingDragging===e.targetNode},"currentTree existed":function(e){return e.currentTree},"placeholder existed":function(e){return e.dplhEl},"placeholder in currentTree":function(e){return e.dplhElInCurrentTree},"placeholder at top":function(e){return e.dplhAtTop},"targetNode is open":function(e){return e.targetNode.open},"targetNode has children excluding placeholder":function(e){return _(e,e.targetNode.children,function(t){return t!==e.dplh})},"targetNode is 1st child":function(e){return _(e,e.targetNode.parent.children,function(e){return e})===e.targetNode},"targetNode is last child":function(e){return _(e,e.targetNode.parent.children,function(e){return e},!0)===e.targetNode},"on targetNode middle":function(e){return e.offset.y<=e.tiMiddleY},"at left":function(e){return e.offset.x<e.tiOffset.x},"at indent right":function(e){return e.offset.x>e.tiOffset.x+e.currentTree.indent}},C=Object.keys(w),S=function(){var e=C[k],t=w[e];w[e]=function(){return Boolean(t.apply(void 0,arguments))}},k=0;k<C.length;k++)S();var I={},O={};function E(e){var t=this.store.trees,n=e.store,i={event:e.event,el:n.el,vm:this,node:this.data,store:this.store,dplh:this.store.dplh,draggableHelperData:{opt:e.options,store:n}};!function(e,t,n){var a=function(a){Object.defineProperty(e,a,{get:function(){var e=this;return t.remember(a,function(){return n[a].call(e)})}})};for(var i in n)a(i)}(i,new f,{nodeInnerEl:function(){return this.el.querySelector(".tree-node-inner")},offset:function(){return Object(a.f)(this.nodeInnerEl)},offset2:function(){return{x:this.offset.x+this.nodeInnerEl.offsetWidth,y:this.offset.y+this.nodeInnerEl.offsetHeight}},currentTree:function(){var e=this,n=t.find(function(t){return Object(a.i)(e.offset.x,e.offset.y,t.$el)});if(n){var i=this.store;if(null==N&&(N=i),N!==n){if(!v(i.crossTree)||!v(n.crossTree))return;N=n}if(!v(n.droppable))return;return n}},currentTreeRootEl:function(){return document.getElementById(this.currentTree.rootData._id)},currentTreeRootOf4:function(){return P(this.currentTreeRootEl,this.currentTree.space)},currentTreeRootSecondChildExcludingDragging:function(){var e=this;return this.currentTree.rootData.children.slice(0,3).filter(function(t){return t!==e.node})[1]},dplhEl:function(){return document.getElementById(this.dplh._id)},dplhElInCurrentTree:function(){return Boolean(this.currentTree.$el.querySelector("#".concat(this.dplh._id)))},dplhOf4:function(){return P(this.dplhEl,this.currentTree.space)},dplhAtTop:function(){return Math.abs(this.dplhOf4.y-this.currentTreeRootOf4.y)<5},targetAtTop:function(){return Math.abs(this.tiOf4.y-this.currentTreeRootOf4.y)<5},targetAtBottom:function(){return Math.abs(this.tiOf4.y2-this.currentTreeRootOf4.y2)<5},targetNode:function(){var e=this.currentTree;if(!e)throw"no currentTree";for(var t=this.offset,n=(t.x,t.y),i=e.rootData;;){var r=i.children;if(!r)break;if(this.node.parent===i&&(r=r.slice()).splice(r.indexOf(this.node),1),0===r.length)break;var o=Object(a.d)(r,function(t){var i=document.getElementById(t._id),r=Object(a.f)(i).y;return r+i.offsetHeight+e.space<n?-1:r<=n?0:1},null,null,!0);if(!(i=o.hit?o.value:o.bigger?r[o.index-1]:o.value)){i=r[0];break}if(!i)break;var l=P(document.getElementById(i._id).querySelector(".tree-node-inner"),e.space);if(l.y<=n&&n<=l.y2)break}return i},targetNodeEl:function(){return document.getElementById(this.targetNode._id)},tiInnerEl:function(){return this.targetNodeEl.querySelector(".tree-node-inner")},tiOffset:function(){return Object(a.f)(this.tiInnerEl)},tiOf4:function(){return P(this.tiInnerEl,this.currentTree.space)},tiMiddleY:function(){return this.tiOffset.y+this.tiInnerEl.offsetHeight/2},targetPrevEl:function(){var e=this.targetNodeEl.previousSibling;return Object(a.g)(e,"dragging")&&(e=e.previousSibling),e},targetPrev:function(){var e=this.targetPrevEl.getAttribute("id");return this.currentTree.getNodeById(e)}});var r={},o=function(e){if(!r.hasOwnProperty(e)){var t;try{t=w[e](i)}catch(n){t=n;try{Object({NODE_ENV:"production"}).DEVELOPE_SELF&&console.warn("failed to execute rule '".concat(e,"'"),n)}catch(e){}}r[e]=t}return r[e]};!1===o("placeholder existed")?m.nothing(i):!0===o("placeholder existed")&&(!0===o("currentTree existed")?!0===o("at indent right")?!0===o("on targetNode middle")?!1===o("targetNode is 1st child")?!1===o("targetNode is last child")?!0===o("targetNode is the second child of root")?!0===o("placeholder at top")?m.before(i):!1===o("placeholder at top")&&(!1===o("targetNode is placeholder")?!1===o("targetNode has children excluding placeholder")?m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i):!0===o("targetNode is placeholder")&&m["append prev"](i)):!1===o("targetNode is the second child of root")&&(!1===o("targetNode is placeholder")?!1===o("targetNode has children excluding placeholder")?m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i):!0===o("targetNode is placeholder")&&m["append prev"](i)):!0===o("targetNode is last child")&&(!1===o("targetNode at bottom")?!0===o("targetNode has children excluding placeholder")?m.prepend(i):!1===o("targetNode has children excluding placeholder")&&(!0===o("targetNode is placeholder")?m["append prev"](i):!1===o("targetNode is placeholder")&&m.append(i)):!0===o("targetNode at bottom")&&(!1===o("targetNode is placeholder")?m.append(i):!0===o("targetNode is placeholder")&&m["append prev"](i))):!0===o("targetNode is 1st child")&&(!0===o("targetNode at top")?!0===o("targetNode is placeholder")?m.nothing(i):!1===o("targetNode is placeholder")&&m.before(i):!1===o("targetNode at top")&&(!0===o("targetNode is placeholder")?m.nothing(i):!1===o("targetNode is placeholder")&&(!1===o("targetNode has children excluding placeholder")?m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)))):!1===o("on targetNode middle")&&(!0===o("targetNode is 1st child")?!0===o("targetNode at top")?!1===o("targetNode has children excluding placeholder")?!0===o("targetNode is placeholder")?m.nothing(i):!1===o("targetNode is placeholder")&&m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i):!1===o("targetNode at top")&&(!0===o("targetNode is placeholder")?m.nothing(i):!1===o("targetNode is placeholder")&&(!1===o("targetNode has children excluding placeholder")?m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i))):!1===o("targetNode is 1st child")&&(!0===o("targetNode is the second child of root")?!0===o("placeholder at top")?!1===o("targetNode has children excluding placeholder")?m.append(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i):!1===o("placeholder at top")&&(!1===o("targetNode has children excluding placeholder")?!1===o("targetNode is placeholder")?m.append(i):!0===o("targetNode is placeholder")&&m["append prev"](i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)):!1===o("targetNode is the second child of root")&&(!1===o("targetNode is placeholder")?!1===o("targetNode at bottom")?!0===o("targetNode has children excluding placeholder")?m.prepend(i):!1===o("targetNode has children excluding placeholder")&&m.append(i):!0===o("targetNode at bottom")&&m.append(i):!0===o("targetNode is placeholder")&&m["append prev"](i)))):!1===o("at indent right")&&(!1===o("targetNode is placeholder")?!0===o("on targetNode middle")?!0===o("targetNode is the second child of root")?!0===o("placeholder at top")?m.before(i):!1===o("placeholder at top")&&(!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)):!1===o("targetNode is the second child of root")&&(!0===o("targetNode is 1st child")?!0===o("targetNode at top")?m.before(i):!1===o("targetNode at top")&&(!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)):!1===o("targetNode is 1st child")&&(!0===o("targetNode is last child")?!1===o("targetNode at bottom")?!0===o("targetNode has children excluding placeholder")?m.prepend(i):!1===o("targetNode has children excluding placeholder")&&m.after(i):!0===o("targetNode at bottom")&&m.after(i):!1===o("targetNode is last child")&&(!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)))):!1===o("on targetNode middle")&&(!0===o("targetNode is 1st child")?!1===o("targetNode is last child")?!0===o("targetNode at top")?!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i):!1===o("targetNode at top")&&(!0===o("at left")?!0===o("targetNode has children excluding placeholder")?m.prepend(i):!1===o("targetNode has children excluding placeholder")&&m.after(i):!1===o("at left")&&m.after(i)):!0===o("targetNode is last child")&&(!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)):!1===o("targetNode is 1st child")&&(!0===o("targetNode is last child")?!1===o("targetNode at bottom")?!0===o("targetNode has children excluding placeholder")?m.prepend(i):!1===o("targetNode has children excluding placeholder")&&m.after(i):!0===o("targetNode at bottom")&&m.after(i):!1===o("targetNode is last child")&&(!1===o("targetNode has children excluding placeholder")?m.after(i):!0===o("targetNode has children excluding placeholder")&&m.prepend(i)))):!0===o("targetNode is placeholder")&&(!0===o("targetNode is 1st child")?!1===o("targetNode at bottom")?!1===o("targetNode is last child")?m.nothing(i):!0===o("targetNode is last child")&&(!1===o("at left")?m.nothing(i):!0===o("at left")&&m["after target parent"](i)):!0===o("targetNode at bottom")&&(!1===o("on targetNode middle")?!0===o("at left")?m["after target parent"](i):!1===o("at left")&&m.nothing(i):!0===o("on targetNode middle")&&(!0===o("at left")?m["after target parent"](i):!1===o("at left")&&m.nothing(i))):!1===o("targetNode is 1st child")&&(!1===o("on targetNode middle")?!1===o("targetNode at bottom")?!0===o("targetNode is last child")?!0===o("at left")?m["after target parent"](i):!1===o("at left")&&m.nothing(i):!1===o("targetNode is last child")&&m.nothing(i):!0===o("targetNode at bottom")&&(!0===o("at left")?m["after target parent"](i):!1===o("at left")&&m.nothing(i)):!0===o("on targetNode middle")&&(!0===o("at left")?!0===o("targetNode is last child")?m["after target parent"](i):!1===o("targetNode is last child")&&m.nothing(i):!1===o("at left")&&m.nothing(i))))):!1===o("currentTree existed")&&m.nothing(i))}function P(e,t){var n=Object(a.f)(e);return n.x2=n.x+e.offsetWidth,n.y2=n.y+e.offsetHeight+t,n}E.dragStart=function(){},E.dragEnd=function(){N=null,I={},O={}};var T=[],L={_id:"draggable_tree_drag_placeHolder",level:null,droppable:!1,isDragPlaceHolder:!0,class:"draggable-placeholder",style:{},innerStyle:{},innerClass:"draggable-placeholder-inner",innerBackStyle:{},innerBackClass:"draggable-placeholder-inner-back"},$={extends:p,props:{getTriggerEl:{type:Function},draggable:{},droppable:{default:!0},crossTree:{},ondragstart:{type:Function},ondragend:{type:Function}},components:{TreeNode:{extends:u,name:"TreeNode",mounted:function(){var e=this;if(this.store.isNodeDraggable=b,this.store.isNodeDroppable=x,!this.isRoot&&!this.data.isDragPlaceHolder){var t=this.store.dplh;this.$watch("store.draggable",function(n){if(v(n)){var i=e.store.getTriggerEl?e.store.getTriggerEl(e):e.$el.querySelector(".tree-node-inner");e._draggableDestroy=h(i,{getEl:function(){return e.$el},minTranslate:10,drag:function(n,a,i){E.dragStart();var r={event:n,options:a,store:i};if(e.store.ondragstart&&!1===e.store.ondragstart(e.data,r))return!1;if(!b(e.data))return!1;e.store.$emit("drag",e.data);var o=e.data.parent.children;e.startPosition={siblings:o,index:o.indexOf(e.data)},t.innerStyle.height=i.el.offsetHeight+"px",l(t,e.data),e.data.class+=" dragging"},moving:function(t,n,a){var i={event:t,options:n,store:a};return E.call(e,i)},drop:function(n,i,r){E.dragEnd();var o={event:n,options:i,store:r};if(e.store.ondragend&&!1===e.store.ondragend(e.data,o))Object(a.b)(t.parent.children,t);else{var s=t._vm.store,c=s!==e.store?e.store:null;l(e.data,t),Object(a.b)(t.parent.children,t),e.data.class=e.data.class.replace(/(^| )dragging( |$)/g," "),s.$emit("drop",e.data,s,c),c&&c.$emit("drop",e.data,s,c);var d=e.data.parent.children;d===e.startPosition.siblings&&d.indexOf(e.data)===e.startPosition.index||(e.store.$emit("change",e.data,s,c),c&&c.$emit("change",e.data,s,c)),e.startPosition=null}}})}else e._draggableDestroy&&(e._draggableDestroy(),e._draggableDestroy=null)},{immediate:!0})}}}},data:function(){return{dplh:L,trees:T}},created:function(){T.push(this)},mounted:function(){},beforeDestroy:function(){Object(a.b)(T,this)}}},SPC7:function(e,t,n){var a=n("4LbR");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("402eecd6",a,!1,{})},TZwq:function(e,t,n){var a=n("nr0A");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("6764c1e9",a,!1,{})},XXSK:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.channel-editor {\n  width: 450px;\n  border-right: 1px solid #ddd;\n}\n.channel-editor .channel-name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 40px;\n}\n.channel-editor .channel-tree-item {\n  line-height: 1em;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  padding-left: 7px;\n}\n.channel-editor .channel-tree-item .icon-btn {\n  opacity: 0.2;\n}\n.channel-editor .channel-tree-item input {\n  height: 30px;\n  background: #fff;\n  border: 1px solid #ddd;\n  padding: 0 5px;\n  border-width: 0 1px;\n}\n.channel-editor .channel-tree-item:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.channel-editor .channel-tree-item:hover .icon-btn {\n  opacity: 1;\n}\n.channel-editor .channel-tree-item.edit .icon-btn {\n  opacity: 1;\n}\n.channel-editor .channel-tree-item.on {\n  background: #0299ff;\n  color: #fff;\n}\n.channel-editor .channel-tree-item.on .icon {\n  color: #fff;\n}\n.channel-editor .channel-tree-item.new.edit {\n  border-color: #ddd;\n}\n.channel-editor .channel-tree-item.new {\n  color: #0299ff;\n}\n.channel-editor .channel-tree-item.new .tree-icon {\n  color: #93cdff;\n}\n.channel-editor .channel-tree-item.del {\n  color: #ff0d0d;\n}\n.channel-editor .channel-tree-item.del .tree-icon {\n  color: #ff8585;\n}\n.channel-editor .channel-tree-item.del .channel-name {\n  text-decoration: line-through;\n}\n.channel-editor .draggable-placeholder-inner {\n  border: 1px dashed #54acff;\n}\n.channel-editor .draggable-placeholder-inner .icon {\n  visibility: hidden;\n}\n",""])},ZYdp:function(e,t,n){var a=n("sLBy");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("50c073c8",a,!1,{})},nr0A:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.channel-layout {\n  border-radius: 5px;\n  margin: 5px 0;\n}\n.channel-layout .channelTag {\n  display: inline-block;\n  height: auto;\n  padding: 10px 20px 0px 10px;\n  line-height: 1;\n  position: relative;\n  margin-right: 10px;\n  border-radius: 4px;\n}\n.channel-layout .channelTag .close {\n  position: absolute;\n  right: 8px;\n  top: 8px;\n}\n.channel-layout .tagimg {\n  width: 50px;\n  height: 50px;\n  margin-bottom: 10px;\n  cursor: pointer;\n  margin-right: 10px;\n}\n.channel-layout .tagtext {\n  display: block;\n  margin-bottom: 6px;\n  text-align: center;\n}\n.channel-layout .title {\n  height: 38px;\n  padding: 0 20px;\n}\n.channel-layout .content {\n  border-top: 1px solid #eee;\n  padding: 12px;\n}\n.channel-layout:last-child {\n  border: none;\n}\n.channel-layout .title:hover .icon-btn {\n  opacity: 1;\n}\n.channel-layout.edit .icon-btn {\n  opacity: 1;\n}\n.channel-layout.del {\n  color: #b12121;\n  background: #fff4f4;\n}\n.channel-layout.new {\n  color: #0299ff;\n  background: #f1faff;\n}\n.channel-layout.del .layout-name {\n  text-decoration: line-through;\n}\n.channel-layout[draggable=true] .title {\n  background: #bee7ff;\n}\n.channel-layout .title .icon-btn {\n  opacity: 0.2;\n}\n.channel-layout .layout-name-input {\n  height: 30px;\n  margin: 0 10px 0 0;\n  padding: 0 10px;\n  border: 1px solid #ddd;\n}\n.channel-layout .layout-name {\n  height: 100%;\n}\n.channel-layout .layout-setting {\n  padding: 15px;\n  white-space: nowrap;\n  width: 300px;\n}\n.channel-layout .setting-item {\n  padding: 6px 0;\n}\n.channel-layout .setting-item input,\n.channel-layout .setting-item select {\n  font-size: 14px;\n  padding: 4px;\n  border-radius: 3px;\n  border: 1px solid #ddd;\n  background: transparent;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  text-align: right;\n}\n.channel-layout .setting-item input {\n  width: 60px;\n}\n.channel-layout .setting-item select {\n  width: auto;\n}\n.channel-layout .add-channel-list {\n  padding: 10px 0;\n  z-index: 3;\n  position: relative;\n}\n.channel-layout .add-channel-list li {\n  white-space: nowrap;\n  line-height: 1em;\n  padding: 5px 10px;\n}\n.channel-layout .add-channel-list li:hover {\n  background: rgba(0, 0, 0, 0.1);\n}\n.channel-layout .add-channel-list .icon {\n  margin-right: 6px;\n}\n",""])},q4TH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("mvHQ"),i=n.n(a),r=n("2get"),o=n("XRQI"),l=n("RWYL"),s=n("QPxU"),c=n.n(s),d={name:"app-article-add-thumb",components:{MediaPhotos:n("jelr").default},props:{value:{default:null},width:{type:String,default:""},height:{type:String,default:""}},data:function(){return{show:!1,image:{id:"",url:""}}},methods:{selectImage:function(){var e=this.$refs.mediaPhotos.selected[0]||null;this.image={id:e?e.id:"",url:e?this.$refs.mediaPhotos.imgOrigin+e.filePath+e.fileName:""};var t=e?this.image:e;this.$emit("input",t.url),this.show=!1}},created:function(){this.value&&(this.image.url=this.value)}},h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-article-add-thumb"},[n("div",{staticClass:"add-photo-btn a flex-center",style:{width:e.width,height:e.height},on:{click:function(t){e.show=!0}}},[n("img",{staticStyle:{"max-width":"100%","max-height":"31px"},attrs:{src:e.image.url,alt:""}}),e._v(" "),e.image.url?e._e():n("i",{staticClass:"icon f-32 c-a"},[e._v("add_photo_alternate")])]),e._v(" "),e.show?n("layer",{staticClass:"tc_box",attrs:{title:"选择图片",width:"1000px"}},[n("p",{staticStyle:{"padding-left":"20px",color:"#f00","font-size":"12px"}},[e._v("仅支持png格式图片")]),e._v(" "),n("div",{staticClass:"layer-text relative",staticStyle:{height:"800px"}},[n("media-photos",{ref:"mediaPhotos",attrs:{"select-mode":"","single-select":""}})],1),e._v(" "),n("div",{staticClass:"layer-btns"},[n("btn",{attrs:{flat:""},on:{click:function(t){e.show=!1}}},[e._v("取消")]),e._v(" "),n("btn",{attrs:{flat:"",color:"#008eff"},on:{click:e.selectImage}},[e._v("选择")])],1)]):e._e()],1)};h._withStripped=!0;var u={render:h,staticRenderFns:[]},p=u;var g=!1;var f=n("VU/8")(d,p,!1,function(e){g||n("7CmS")},null,null);f.options.__file="src/apps/channels/thumb.vue";var v=f.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("icon-btn",{attrs:{small:""},on:{click:function(t){e.show=!e.show}}},[e._v("link")]),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"slebox"},[n("div",{staticClass:"flex",staticStyle:{"justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},[n("span",{staticStyle:{color:"#999"}},[e._v("开启链接")]),e._v(" "),n("switcher",{attrs:{mode:"Number"},on:{change:e.change},model:{value:e.olinkShow,callback:function(t){e.olinkShow=t},expression:"olinkShow"}})],1),e._v(" "),1==e.olinkShow?n("input",{directives:[{name:"model",rawName:"v-model",value:e.olink,expression:"olink"}],class:{sleboxerr:e.err},attrs:{type:"text"},domProps:{value:e.olink},on:{blur:e.testLink,change:e.change,input:function(t){t.target.composing||(e.olink=t.target.value)}}}):e._e()])]),e._v(" "),e.show?n("div",{staticClass:"closebox",on:{click:e.closeLink}}):e._e()],1)};m._withStripped=!0;var y={render:m,staticRenderFns:[]},b=y;var x=!1;var _=n("VU/8")({name:"linkBtn",props:["link","linkShow"],data:function(){return{show:!1,olink:"",err:!1,olinkShow:""}},mounted:function(){this.olink=this.link,this.olinkShow=1==this.linkShow?1:0},methods:{closeLink:function(){this.show?(this.err=!1,this.show=!1):this.show=!0},testLink:function(){},change:function(){""!=this.olink&&this.$emit("linkchange",{link:this.olink,linkshow:this.olinkShow})}}},b,!1,function(e){x||n("SPC7")},"data-v-859b5692",null);_.options.__file="src/apps/channels/linkBtn.vue";var N=_.exports;function w(e){var t=[];return function e(n){n.children.forEach(function(a){t.push({id:a.new?"":a.id,channelName:a.channelName,channelPartentId:n.id,channelManager:"",channelIcon:a.channelIcon,channelUrl:a.channelUrl,isEnabledUrl:a.isEnabledUrl}),a.children.length&&e(a)})}(e),t}var C={name:"channel-editor",components:{DraggableTree:l.a,AppArticleAddThumb:v,linkBtn:N},data:function(){return{channels:[],channelTree:[],delChannels:[]}},created:function(){this.getChannels()},methods:{getChannels:function(){var e=this;this.$http.post("/cri-cms-platform/channel/getChannels.monitor").then(function(t){e.channels=t,e.$emit("channelsLoad",JSON.parse(i()(t))),t.forEach(function(e){e.edit=!1,e.del=!1,e.editChannelName=e.channelName});var n=new c.a;n.postMessage({data:t,idTxt:"id",pidTxt:"channelPartentId",childrenTxt:"children",rootId:"0"}),n.addEventListener("message",function(t){!function e(t){t.children&&t.children.length>0&&t.children.forEach(function(t,n){t.open=!1,e(t)})}(t.data[0]),e.channelTree=t.data,n.terminate()}),n.addEventListener("error",function(t){e.$toast(t.msg||t.message),n.terminate()})}).catch(function(t){e.$toast(t.msg||t.message)})},addChild:function(e){e.open=!0,e.children.push({id:Math.random().toString(16).substr(2),channelName:"新频道",editChannelName:"新频道",channelPartentId:e.id,parent:e,children:[],channelUrl:"",isEnabledUrl:0,del:!1,open:!0,new:!0,edit:!0})},del:function(e){var t=this;if(e.new){var n=e.parent.children.indexOf(e);e.parent.children.splice(n,1)}else this.$confirm({title:"删除确认",text:e.children.length?"此操作将会删除【"+e.channelName+"】及此频道下的所有子频道\n是否继续？":"确定删除【"+e.channelName+"】？",color:"red",btns:["取消","删除"],yes:function(){var n=e.parent.children.indexOf(e);e.parent.children.splice(n,1),t.delChannels.push(e)}})},onItemClick:function(e){e.new||(this.$router.replace("/channels?channelId="+e.id),this.$emit("changeChannel",e.id))},submit:function(){var e=this,t=w({id:"0",children:this.channelTree});console.log(t);var n={result:t,removeChannelId:w({children:this.delChannels}).filter(function(e){return e.id}).map(function(e){return e.id})};this.$http.post("/cri-cms-platform/channel/saveChannel.monitor",{channelJson:i()(n)}).then(function(t){e.$toast("保存成功"),e.refresh()}).catch(function(t){e.$toast(t.msg||t.message)})},refresh:function(){this.getChannels(),this.$emit("refresh")}}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"left bg-f flex-col channel-editor"},[n("div",{staticClass:"flex-v-center",staticStyle:{padding:"15px","border-bottom":"1px solid #ddd"}},[n("span",{staticClass:"flex-item b"},[e._v("频道编辑")]),e._v(" "),n("btn",{staticStyle:{"margin-right":"5px"},attrs:{flat:""},on:{click:e.refresh}},[e._v("撤销修改")]),e._v(" "),n("btn",{on:{click:e.submit}},[e._v("保存")])],1),e._v(" "),n("div",{staticClass:"flex-item scroll-y",staticStyle:{padding:"15px"}},[n("draggable-tree",{ref:"draggabletree",attrs:{data:e.channelTree,draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;t.store;return n("div",{staticClass:"channel-tree-item flex-v-center",class:{new:a.new,del:a.del,on:e.$route.query.channelId===a.id,edit:a.edit},on:{click:function(t){e.onItemClick(a)}}},[n("i",{staticClass:"icon tree-icon f-20 c-8 a",staticStyle:{"margin-right":"10px"},on:{click:function(e){e.stopPropagation(),a.open=!a.open}}},[e._v(e._s(a.children&&a.children.length?a.open?"folder_open":"folder":"insert_drive_file"))]),e._v(" "),n("div",{staticClass:"flex-item flex-v-center",staticStyle:{height:"40px",overflow:"hidden"}},[a.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:a.editChannelName,expression:"data.editChannelName"}],staticClass:"flex-item f-14",attrs:{type:"text"},domProps:{value:a.editChannelName},on:{input:function(t){t.target.composing||e.$set(a,"editChannelName",t.target.value)}}}):n("span",{staticClass:"flex-item channel-name"},[e._v(e._s(a.channelName))])]),e._v(" "),0!=a.channelPartentId?n("app-article-add-thumb",{staticClass:"tagimg",staticStyle:{width:"32px",height:"32px",float:"right",overflow:"hidden"},model:{value:a.channelIcon,callback:function(t){e.$set(a,"channelIcon",t)},expression:"data.channelIcon"}}):e._e(),e._v(" "),a.edit?e._e():n("icon-btn",{attrs:{small:""},nativeOn:{click:function(t){t.stopPropagation(),e.addChild(a)}}},[e._v("add")]),e._v(" "),a.edit||0==a.channelPartentId?e._e():n("icon-btn",{attrs:{small:""},nativeOn:{click:function(e){e.stopPropagation(),a.edit=!0}}},[e._v("edit")]),e._v(" "),a.edit&&0!=a.channelPartentId?n("icon-btn",{staticClass:"green",attrs:{small:""},nativeOn:{click:function(e){e.stopPropagation(),a.edit=!1,a.channelName=a.editChannelName}}},[e._v("check")]):e._e(),e._v(" "),a.edit&&0!=a.channelPartentId?n("icon-btn",{attrs:{small:""},nativeOn:{click:function(e){e.stopPropagation(),a.edit=!1,a.editChannelName=a.channelName}}},[e._v("close")]):e._e(),e._v(" "),0!=a.channelPartentId?n("linkBtn",{attrs:{link:a.channelUrl,linkShow:a.isEnabledUrl},on:{linkchange:function(e){a.channelUrl=e.link,a.isEnabledUrl=e.linkshow}},nativeOn:{click:function(e){e.stopPropagation()}}}):e._e(),e._v(" "),0!=a.channelPartentId?n("icon-btn",{attrs:{small:""},nativeOn:{click:function(t){t.stopPropagation(),e.del(a)}}},[e._v("delete")]):e._e()],1)}}])}),e._v(" "),n("div",{staticClass:"channel-tree-item flex-v-center",on:{click:function(t){e.onItemClick({id:5e4})}}},[n("i",{staticClass:"icon tree-icon f-20 c-8 a",staticStyle:{"margin-right":"10px"}},[e._v("insert_drive_file")]),e._v(" "),e._m(0)])],1)])};S._withStripped=!0;var k={render:S,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-item flex-v-center",staticStyle:{height:"40px",overflow:"hidden"}},[t("span",{staticClass:"flex-item channel-name"},[this._v("PC端发布")])])}]},I=k;var O=!1;var E=n("VU/8")(C,I,!1,function(e){O||n("LjlW")},null,null);E.options.__file="src/apps/channels/channel.vue";var P=E.exports,T=n("DAYN"),L=n.n(T),$={name:"channel-layout",components:{draggable:L.a,AppArticleAddThumb:v},props:{data:{type:Object,default:function(){}},activeChannelChildren:{type:Array,default:function(){return[]}}},data:function(){return{item:this.data,settingShow:!1,addChannelShow:!1,settingLoading:!1}},created:function(){var e=this.item,t=this.activeChannelChildren;"3"===e.type&&e.new&&t.length&&this.toggleChannel(t[0])},computed:{settingChanged:function(){return!0},channelIds:function(){return this.item.cl.map(function(e){return e.channelId})}},watch:{"item.setting.autoPlay":function(e){this.item.setting.playType=e?"auto":"handle"},settingShow:function(e){e&&!this.item.new&&this.getSetting()}},methods:{getSetting:function(){var e=this;this.settingLoading=!0,this.$http.post("cri-cms-platform/channel/getLayoutSetting.monitor",{layoutId:this.item.id,dataType:this.item.type}).then(function(t){console.log(t),e.settingLoading=!1;var n=JSON.parse(t.setting);"1"===t.layoutType&&(n.autoPlay="auto"===n.playType),e.item.setting=n}).catch(function(t){e.settingLoading=!1,e.$toast(t.msg)})},submitSetting:function(){var e=this;console.log(this.item.setting);var t=JSON.parse(i()(this.item.setting));delete t.autoPlay,t.layoutId=this.item.id,t.layoutType=this.item.type,this.settingLoading=!0,console.log("sybmit",t),this.$http.post("cri-cms-platform/channel/saveLayoutSetting.monitor",t).then(function(t){e.$toast("设置保存成功"),e.settingLoading=!1,e.settingShow=!1,e.getSetting()}).catch(function(t){e.settingLoading=!0,e.$toast(t.msg)})},del:function(){this.item.new?this.$emit("deleteNew",this.item):this.item.del=!0},toggleChannel:function(e){console.log(e);var t=this.item,n=this.channelIds,a=e.channelId||e.id;if(n.includes(a)){if(n.length<=1)return;var i=n.indexOf(a);t.cl.splice(i,1)}else t.cl.push({layoutId:t.new?"":t.id,channelId:a,channelName:e.channelName,type:e.type})}}},j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel-layout card",class:{new:e.item.new,del:e.item.del,edit:e.item.edit}},[n("div",{staticClass:"flex-v-center title"},[e.item.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.editLayoutName,expression:"item.editLayoutName"}],staticClass:"flex-item f-14 layout-name-input",attrs:{type:"text"},domProps:{value:e.item.editLayoutName},on:{input:function(t){t.target.composing||e.$set(e.item,"editLayoutName",t.target.value)}}}):n("span",{staticClass:"flex-item layout-name flex-v-center handle",on:{click:function(t){e.item.open=!e.item.open}}},[e._v(e._s(e.item.layoutName))]),e._v(" "),e.item.edit||e.item.del?e._e():n("icon-btn",{attrs:{small:""},on:{click:function(t){e.item.edit=!0}}},[e._v("edit")]),e._v(" "),e.item.edit&&!e.item.del?n("icon-btn",{staticClass:"green",attrs:{small:""},on:{click:function(t){e.item.edit=!1,e.item.layoutName=e.item.editLayoutName}}},[e._v("check")]):e._e(),e._v(" "),e.item.edit&&!e.item.del?n("icon-btn",{attrs:{small:""},on:{click:function(t){e.item.edit=!1}}},[e._v("close")]):e._e(),e._v(" "),e.item.del||e.item.edit?e._e():n("div",{staticClass:"relative c-4"},[n("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"布局设置",expression:"'布局设置'",arg:"top"}],style:{backgroundColor:e.settingShow?"rgba(0,0,0,.2)":""},attrs:{small:""},on:{click:function(t){e.settingShow=!e.settingShow}}},[e._v("settings")]),e._v(" "),e.settingShow?n("bubble",{attrs:{pos:"bottom",align:"end"},on:{close:function(t){e.settingShow=!1}}},[n("div",{staticClass:"layout-setting relative"},[e.settingLoading?n("div",{staticClass:"abs flex-center bg-light-rgb-8",staticStyle:{"z-index":"3"}},[n("loading",{attrs:{size:"30"}})],1):e._e(),e._v(" "),n("div",{staticClass:"b f-16",staticStyle:{padding:"10px 0"}},[e._v("布局设置")]),e._v(" "),"1"===e.item.type?n("div",[n("div",{staticClass:"flex-v-center setting-item"},[n("div",{staticClass:"flex-item"},[e._v("幻灯片默认数量")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.setting.pptNumber,expression:"item.setting.pptNumber"}],staticClass:"t-right",attrs:{type:"number"},domProps:{value:e.item.setting.pptNumber},on:{input:function(t){t.target.composing||e.$set(e.item.setting,"pptNumber",t.target.value)}}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v("张")])]),e._v(" "),n("div",{staticClass:"flex-v-center setting-item"},[n("div",{staticClass:"flex-item"},[e._v("自动播放")]),e._v(" "),n("switcher",{staticStyle:{transform:"scale(.8)","margin-right":"20px"},model:{value:e.item.setting.autoPlay,callback:function(t){e.$set(e.item.setting,"autoPlay",t)},expression:"item.setting.autoPlay"}})],1),e._v(" "),n("div",{staticClass:"flex-v-center setting-item",style:e.item.setting.autoPlay?{}:{opacity:.5,pointerEvents:"none"}},[n("div",{staticClass:"flex-item"},[e._v("自动播放时间")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.setting.time,expression:"item.setting.time"}],staticClass:"t-right",attrs:{type:"number"},domProps:{value:e.item.setting.time},on:{input:function(t){t.target.composing||e.$set(e.item.setting,"time",t.target.value)}}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v("秒")])])]):e._e(),e._v(" "),"2"===e.item.type?n("div",[n("div",{staticClass:"flex-v-center setting-item"},[n("div",{staticClass:"flex-item"},[e._v("列表布局")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.setting.layout,expression:"item.setting.layout"}],attrs:{dir:"rtl"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item.setting,"layout",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"3_1"}},[e._v("左图有标题无摘要")]),e._v(" "),n("option",{attrs:{value:"3_2"}},[e._v("右图有标题无摘要")]),e._v(" "),n("option",{attrs:{value:"3_3"}},[e._v("大图列表")])])])]):e._e(),e._v(" "),"3"===e.item.type?n("div",[n("div",{staticClass:"flex-v-center setting-item"},[n("div",{staticClass:"flex-item"},[e._v("图片格式")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.item.setting.picword,expression:"item.setting.picword"}],attrs:{dir:"rtl"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item.setting,"picword",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"2_5"}},[e._v("上图下文字")]),e._v(" "),n("option",{attrs:{value:"2_4"}},[e._v("上文字下图")]),e._v(" "),n("option",{attrs:{value:"2_3"}},[e._v("文字")]),e._v(" "),n("option",{attrs:{value:"2_1"}},[e._v("左图右文字")]),e._v(" "),n("option",{attrs:{value:"2_2"}},[e._v("右图左文字")])])]),e._v(" "),n("div",{staticClass:"flex-v-center setting-item"},[n("div",{staticClass:"flex-item"},[e._v("子频道显示数量")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.setting.singShowNum,expression:"item.setting.singShowNum"}],attrs:{type:"text"},domProps:{value:e.item.setting.singShowNum},on:{input:function(t){t.target.composing||e.$set(e.item.setting,"singShowNum",t.target.value)}}})])]):e._e(),e._v(" "),n("div",{staticClass:"t-right",staticStyle:{"padding-top":"15px"}},[e.item.new?e._e():n("btn",{on:{click:e.submitSetting}},[e._v("保存设置")])],1)])]):e._e()],1),e._v(" "),!e.item.edit&&!e.item.del||e.item.new?n("icon-btn",{attrs:{small:""},on:{click:e.del}},[e._v("delete")]):e._e(),e._v(" "),!e.item.edit&&e.item.del?n("icon-btn",{attrs:{small:""},on:{click:function(t){e.item.del=!1}}},[e._v("undo")]):e._e()],1),e._v(" "),"3"===e.item.type&&e.item.open&&!e.item.del?n("div",{staticClass:"content"},[n("div",{staticClass:"flex",staticStyle:{"flex-wrap":"wrap"}},[e.item.cl&&e.item.cl.length?n("draggable",[n("transition-group",{attrs:{name:"flip-list"}},e._l(e.item.cl,function(t){return n("tag",{key:t.channelId,staticClass:"channelTag",attrs:{close:e.channelIds.length>1},on:{close:function(n){e.toggleChannel(t)}}},["2_3"==e.item.setting.picword?n("span",[n("span",{staticStyle:{display:"block","margin-bottom":"6px"}},[e._v(e._s(t.channelName))])]):e._e(),e._v(" "),"2_4"==e.item.setting.picword?n("span",[n("span",{staticClass:"tagtext"},[e._v(e._s(t.channelName))]),e._v(" "),t.channelIcon?n("img",{staticClass:"tagimg",attrs:{src:t.channelIcon,alt:""}}):e._e()]):e._e(),e._v(" "),"2_5"==e.item.setting.picword?n("span",[t.channelIcon?n("img",{staticClass:"tagimg",attrs:{src:t.channelIcon,alt:""}}):e._e(),e._v(" "),n("span",{staticClass:"tagtext"},[e._v(e._s(t.channelName))])]):e._e(),e._v(" "),"2_2"==e.item.setting.picword?n("span",{staticStyle:{float:"left"}},[t.channelIcon?n("img",{staticClass:"tagimg",attrs:{src:t.channelIcon,alt:""}}):e._e(),e._v(" "),n("span",{staticClass:"tagtext",staticStyle:{float:"left","line-height":"50px","margin-right":"5px"}},[e._v(e._s(t.channelName))])]):e._e(),e._v(" "),"2_1"==e.item.setting.picword?n("span",{staticStyle:{float:"left"}},[t.channelIcon?n("img",{staticClass:"tagimg",attrs:{src:t.channelIcon,alt:""}}):e._e(),e._v(" "),n("span",{staticClass:"tagtext",staticStyle:{float:"right","line-height":"50px"}},[e._v(e._s(t.channelName))])]):e._e()])}))],1):e._e()],1),e._v(" "),n("div",{staticClass:"relative",staticStyle:{display:"inline-block"}},[n("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:"添加子频道",expression:"'添加子频道'",arg:"top"}],attrs:{small:""},on:{click:function(t){e.addChannelShow=!e.addChannelShow}}},[e._v("add")]),e._v(" "),e.addChannelShow?n("bubble",{attrs:{pos:"right",align:"start"},on:{close:function(t){e.addChannelShow=!1}}},[e.activeChannelChildren.length?n("ul",{staticClass:"add-channel-list"},e._l(e.activeChannelChildren,function(t){return n("li",{key:t.id,staticClass:"c-6 flex-v-center a",on:{click:function(n){e.toggleChannel(t)}}},[n("i",{staticClass:"icon f-16 green",style:{visibility:e.channelIds.includes(t.id)?"visible":"hidden"}},[e._v("check")]),e._v(" "),n("span",{staticClass:"flex-item"},[e._v(e._s(t.channelName))])])})):n("div",{staticClass:"c-8",staticStyle:{"white-space":"nowrap",padding:"20px"}},[e._v("没有可添加项")])]):e._e()],1)]):e._e()])};j._withStripped=!0;var D={render:j,staticRenderFns:[]},A=D;var R=!1;var B=n("VU/8")($,A,!1,function(e){R||n("TZwq")},null,null);B.options.__file="src/apps/channels/layout.vue";var H=B.exports,M={1:{pptNumber:"5",autoPlay:!0,playType:"auto",time:"10"},2:{listType:"1",picword:"1",layout:"1"},3:{singShowNum:"5"}},q={name:"app-channels",components:{Account:r.a,Dock:o.a,ChannelEditor:P,draggable:L.a,ChannelLayout:H},data:function(){return{loading:!1,addShow:!1,channels:[],layout:[],layout1:[],mark:1,liebiao:!0,channelState:{channelId:"",showLocal:!1,isPingLun:!1,isShenHe:!1}}},watch:{"$route.query.channelId":function(e){this.getLayout(e)}},computed:{activeChannelChildren:function(){var e=this.$route.query.channelId;return e?this.channels.filter(function(t){return t.channelPartentId===e}):[]}},created:function(){this.$route.query.channelId&&this.getLayout(this.$route.query.channelId)},methods:{changeChannel:function(e){var t=this;this.$http.post("/cri-cms-platform/channel/getChannelSetting.monitor",{channelId:e}).then(function(e){for(var n in t.channelState.channelId=e.channelId,e.setting=JSON.parse(e.setting),e.setting)t.channelState[n]="true"==e.setting[n]})},setChannel:function(){this.$http.post("/cri-cms-platform/channel/channelSet.monitor",{channelId:this.$route.query.channelId,showLocal:this.channelState.showLocal?"true":"false",isPingLun:this.channelState.isPingLun?"true":"false",isShenHe:this.channelState.isShenHe?"true":"false"}).then(function(e){})},getLayout:function(e){var t=this;e&&(this.loading=!0,this.layout1=[],this.layout=[],this.$http.post("/cri-cms-platform/channel/getChannelIdToLayout.monitor",{channelId:e}).then(function(e){e.forEach(function(e){e.editLayoutName=e.layoutName,e.edit=!1,e.new=!1,e.del=!1,e.open=!1,e.setting=e.ls&&e.ls[0]?JSON.parse(e.ls[0].setting):{},"1"===e.type&&(e.setting.autoPlay="auto"===e.setting.playType)}),t.loading=!1;for(var n=0;n<e.length;n++)2==e[n].type?t.layout1.push(e[n]):t.layout.push(e[n]);t.layout1.length>0?t.liebiao=!1:t.liebiao=!0}).catch(function(e){t.loading=!1,t.$toast(e.msg||e.message)}))},addLayout:function(e,t){("3"!==e||this.activeChannelChildren.length)&&("2"===e?(this.liebiao=!1,this.layout1.push({id:Math.random().toString(16).substr(2),layoutName:t,editLayoutName:t,type:e,edit:!1,new:!0,open:!0,setting:M[e],cl:[]})):this.layout.unshift({id:Math.random().toString(16).substr(2),layoutName:t,editLayoutName:t,type:e,edit:!1,new:!0,open:!0,setting:M[e],cl:[]}),this.addShow=!1)},onChannelsLoad:function(e){this.channels=e},onDel:function(e){var t=this.layout.indexOf(e);this.layout.splice(t,1)},submit:function(){var e=this,t=this.layout.filter(function(e){return!e.del}).map(function(t){var n=t.new?"":t.id,a=e.$route.query.channelId,r=JSON.parse(i()({layoutId:n,layoutType:t.type,channelId:a,setting:t.setting})),o=t.cl.map(function(e){return{layoutId:n,channelId:e.channelId,type:t.type}});return void 0!==r.setting.autoPlay&&delete r.setting.autoPlay,{layoutName:t.layoutName,id:n,layoutId:n,channelId:a,type:t.type,cl:o,ls:t.new?[r]:[],delChildId:[]}});if(0!=this.layout1.length)var n=this.layout1.filter(function(e){return!e.del}).map(function(t){var n=t.new?"":t.id,a=e.$route.query.channelId,r=JSON.parse(i()({layoutId:n,layoutType:t.type,channelId:a,setting:t.setting})),o=t.cl.map(function(e){return{layoutId:n,channelId:e.channelId,type:t.type}});return void 0!==r.setting.autoPlay&&delete r.setting.autoPlay,{layoutName:t.layoutName,id:n,layoutId:n,channelId:a,type:t.type,cl:o,ls:t.new?[r]:[],delChildId:[]}});n&&n[0]&&t.push(n[0]);var a=this.layout.filter(function(e){return e.del}).map(function(e){return e.id}),r=this.layout1.filter(function(e){return e.del}).map(function(e){return e.id}),o={result:t,delLayoutId:a.concat(r)};console.log(o),this.$http.post("/cri-cms-platform/channel/saveChannelLayout.monitor",{channelId:this.$route.query.channelId,channelLayoutJson:i()(o)}).then(function(t){e.$toast("保存成功"),e.refresh()}).catch(function(t){e.$toast(t.msg)}),this.setChannel()},refresh:function(){var e=this,t=this.$route.query,n=this.$route.path;this.$router.replace({path:n}),setTimeout(function(){e.$router.replace({path:n,query:t})},100)}}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"abs bg-e c-6 f-14 flex-col app-channels"},[n("div",{staticClass:"flex-v-center af-topbar bg-f"},[n("dock",{attrs:{color:"#009aff",title:"频道管理"}}),e._v(" "),n("div",{staticClass:"flex-item"}),e._v(" "),n("account")],1),e._v(" "),n("div",{staticClass:"flex-item flex",staticStyle:{height:"calc(100% - 50px)"}},[n("channel-editor",{on:{changeChannel:e.changeChannel,channelsLoad:e.onChannelsLoad,refresh:e.refresh}}),e._v(" "),e.$route.query.channelId?n("div",{staticClass:"right flex-item flex-col"},[n("div",{staticClass:"flex-v-center",staticStyle:{padding:"15px 30px"}},[n("span",{staticClass:"flex-item b"},[e._v("布局编辑")]),e._v(" "),n("span",[e._v("是否启用")]),e._v(" "),n("switcher",{staticStyle:{transform:"scale(.8)","margin-right":"20px"},model:{value:e.channelState.showLocal,callback:function(t){e.$set(e.channelState,"showLocal",t)},expression:"channelState.showLocal"}}),e._v(" "),n("span",[e._v("是否评论")]),e._v(" "),n("switcher",{staticStyle:{transform:"scale(.8)","margin-right":"20px"},model:{value:e.channelState.isPingLun,callback:function(t){e.$set(e.channelState,"isPingLun",t)},expression:"channelState.isPingLun"}}),e._v(" "),n("span",[e._v("是否审核")]),e._v(" "),n("switcher",{staticStyle:{transform:"scale(.8)","margin-right":"20px"},model:{value:e.channelState.isShenHe,callback:function(t){e.$set(e.channelState,"isShenHe",t)},expression:"channelState.isShenHe"}}),e._v(" "),n("btn",{staticStyle:{"margin-right":"5px"},attrs:{flat:""},on:{click:function(t){e.refresh()}}},[e._v("撤销修改")]),e._v(" "),n("btn",{on:{click:e.submit}},[e._v("保存")])],1),e._v(" "),n("div",{staticClass:"flex-item scroll-y",staticStyle:{padding:"15px 30px"}},[n("div",{staticClass:"relative f-14 c-6",staticStyle:{"margin-bottom":"10px","line-height":"1em"}},[n("div",{key:"0000000",staticClass:"bg-f card flex-center a b",staticStyle:{padding:"10px"},on:{click:function(t){e.addShow=!e.addShow}}},[n("i",{staticClass:"icon",staticStyle:{"margin-right":"10px"}},[e._v("add")]),e._v(" "),n("span",[e._v("新增布局")])]),e._v(" "),e.addShow?n("bubble",{on:{close:function(t){e.addShow=!1}}},[n("ul",{staticClass:"f-14 c-5 add-select",staticStyle:{padding:"10px 0",width:"200px"}},[n("li",{staticClass:"a flex-v-center",on:{click:function(t){e.addLayout("1","幻灯片")}}},[n("i",{staticClass:"icon f-20"},[e._v("view_carousel")]),e._v(" "),n("span",{staticClass:"flex-item"},[e._v("幻灯片")])]),e._v(" "),n("li",{staticClass:"a flex-v-center",style:e.liebiao?"":{opacity:.5,pointerEvents:"none"},on:{click:function(t){e.addLayout("2","列表")}}},[n("i",{staticClass:"icon f-20"},[e._v("view_list")]),e._v(" "),n("span",{staticClass:"flex-item"},[e._v("列表")])]),e._v(" "),n("li",{staticClass:"a flex-v-center",style:e.activeChannelChildren.length?"":{opacity:.5,pointerEvents:"none"},on:{click:function(t){e.addLayout("3","子频道")}}},[n("i",{staticClass:"icon f-20"},[e._v("radio")]),e._v(" "),n("span",{staticClass:"flex-item"},[e._v("子频道")])])])]):e._e()],1),e._v(" "),n("draggable",{attrs:{options:{handle:".handle"}},model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}},[n("transition-group",{attrs:{tag:"div",name:"flip-list"}},e._l(e.layout,function(t){return n("channel-layout",{key:t.id,attrs:{data:t,activeChannelChildren:e.activeChannelChildren},on:{deleteNew:e.onDel}})}))],1),e._v(" "),n("draggable",{attrs:{options:{handle:".handle"}},model:{value:e.layout1,callback:function(t){e.layout1=t},expression:"layout1"}},[n("transition-group",{attrs:{tag:"div",name:"flip-list"}},e._l(e.layout1,function(t){return n("channel-layout",{key:t.id,attrs:{data:t,activeChannelChildren:e.activeChannelChildren},on:{deleteNew:e.onDel}})}))],1)],1)]):e._e()],1)])};F._withStripped=!0;var U={render:F,staticRenderFns:[]},z=U;var Y=!1;var J=n("VU/8")(q,z,!1,function(e){Y||n("ZYdp")},null,null);J.options.__file="src/apps/channels/index.vue";t.default=J.exports},sLBy:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.app-channels .add-select li {\n  padding: 5px 15px;\n}\n.app-channels .add-select .icon {\n  margin-right: 15px;\n}\n.app-channels .add-select li:hover {\n  background: #eee;\n}\n",""])}});